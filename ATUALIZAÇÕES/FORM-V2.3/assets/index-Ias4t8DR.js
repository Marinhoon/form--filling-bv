(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ip={exports:{}},yl={},Ap={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),Lv=Symbol.for("react.portal"),Mv=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),jv=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),zv=Symbol.for("react.context"),Bv=Symbol.for("react.forward_ref"),$v=Symbol.for("react.suspense"),bv=Symbol.for("react.memo"),Hv=Symbol.for("react.lazy"),gf=Symbol.iterator;function Qv(t){return t===null||typeof t!="object"?null:(t=gf&&t[gf]||t["@@iterator"],typeof t=="function"?t:null)}var Cp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pp=Object.assign,Rp={};function Zr(t,e,n){this.props=t,this.context=e,this.refs=Rp,this.updater=n||Cp}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kp(){}kp.prototype=Zr.prototype;function Zu(t,e,n){this.props=t,this.context=e,this.refs=Rp,this.updater=n||Cp}var ec=Zu.prototype=new kp;ec.constructor=Zu;Pp(ec,Zr.prototype);ec.isPureReactComponent=!0;var yf=Array.isArray,xp=Object.prototype.hasOwnProperty,tc={current:null},Np={key:!0,ref:!0,__self:!0,__source:!0};function Vp(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)xp.call(e,r)&&!Np.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:vo,type:t,key:o,ref:l,props:i,_owner:tc.current}}function Gv(t,e){return{$$typeof:vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nc(t){return typeof t=="object"&&t!==null&&t.$$typeof===vo}function Wv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vf=/\/+/g;function ha(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wv(""+t.key):e.toString(36)}function ms(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case vo:case Lv:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+ha(l,0):r,yf(i)?(n="",t!=null&&(n=t.replace(vf,"$&/")+"/"),ms(i,e,n,"",function(f){return f})):i!=null&&(nc(i)&&(i=Gv(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(vf,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",yf(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+ha(o,u);l+=ms(o,e,n,c,i)}else if(c=Qv(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+ha(o,u++),l+=ms(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Go(t,e,n){if(t==null)return t;var r=[],i=0;return ms(t,r,"","",function(o){return e.call(n,o,i++)}),r}function qv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},gs={transition:null},Kv={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:gs,ReactCurrentOwner:tc};function Dp(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Go,forEach:function(t,e,n){Go(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Go(t,function(){e++}),e},toArray:function(t){return Go(t,function(e){return e})||[]},only:function(t){if(!nc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Zr;K.Fragment=Mv;K.Profiler=jv;K.PureComponent=Zu;K.StrictMode=Fv;K.Suspense=$v;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kv;K.act=Dp;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pp({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=tc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)xp.call(e,c)&&!Np.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:vo,type:t.type,key:i,ref:o,props:r,_owner:l}};K.createContext=function(t){return t={$$typeof:zv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uv,_context:t},t.Consumer=t};K.createElement=Vp;K.createFactory=function(t){var e=Vp.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:Bv,render:t}};K.isValidElement=nc;K.lazy=function(t){return{$$typeof:Hv,_payload:{_status:-1,_result:t},_init:qv}};K.memo=function(t,e){return{$$typeof:bv,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=gs.transition;gs.transition={};try{t()}finally{gs.transition=e}};K.unstable_act=Dp;K.useCallback=function(t,e){return Je.current.useCallback(t,e)};K.useContext=function(t){return Je.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};K.useEffect=function(t,e){return Je.current.useEffect(t,e)};K.useId=function(){return Je.current.useId()};K.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Je.current.useMemo(t,e)};K.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};K.useRef=function(t){return Je.current.useRef(t)};K.useState=function(t){return Je.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return Je.current.useTransition()};K.version="18.3.1";Ap.exports=K;var Lt=Ap.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=Lt,Yv=Symbol.for("react.element"),Jv=Symbol.for("react.fragment"),Zv=Object.prototype.hasOwnProperty,e0=Xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t0={key:!0,ref:!0,__self:!0,__source:!0};function Op(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Zv.call(e,r)&&!t0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Yv,type:t,key:o,ref:l,props:i,_owner:e0.current}}yl.Fragment=Jv;yl.jsx=Op;yl.jsxs=Op;Ip.exports=yl;var O=Ip.exports,Lp={exports:{}},dt={},Mp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var G=B.length;B.push(Q);e:for(;0<G;){var he=G-1>>>1,ne=B[he];if(0<i(ne,Q))B[he]=Q,B[G]=ne,G=he;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],G=B.pop();if(G!==Q){B[0]=G;e:for(var he=0,ne=B.length,_e=ne>>>1;he<_e;){var bt=2*(he+1)-1,Ht=B[bt],Qt=bt+1,Gt=B[Qt];if(0>i(Ht,G))Qt<ne&&0>i(Gt,Ht)?(B[he]=Gt,B[Qt]=G,he=Qt):(B[he]=Ht,B[bt]=G,he=bt);else if(Qt<ne&&0>i(Gt,G))B[he]=Gt,B[Qt]=G,he=Qt;else break e}}return Q}function i(B,Q){var G=B.sortIndex-Q.sortIndex;return G!==0?G:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],m=1,g=null,T=3,R=!1,x=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=B)r(f),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(f)}}function N(B){if(V=!1,S(B),!x)if(n(c)!==null)x=!0,oi(U);else{var Q=n(f);Q!==null&&$t(N,Q.startTime-B)}}function U(B,Q){x=!1,V&&(V=!1,I(p),p=-1),R=!0;var G=T;try{for(S(Q),g=n(c);g!==null&&(!(g.expirationTime>Q)||B&&!A());){var he=g.callback;if(typeof he=="function"){g.callback=null,T=g.priorityLevel;var ne=he(g.expirationTime<=Q);Q=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(c)&&r(c),S(Q)}else r(c);g=n(c)}if(g!==null)var _e=!0;else{var bt=n(f);bt!==null&&$t(N,bt.startTime-Q),_e=!1}return _e}finally{g=null,T=G,R=!1}}var F=!1,_=null,p=-1,y=5,w=-1;function A(){return!(t.unstable_now()-w<y)}function P(){if(_!==null){var B=t.unstable_now();w=B;var Q=!0;try{Q=_(!0,B)}finally{Q?E():(F=!1,_=null)}}else F=!1}var E;if(typeof v=="function")E=function(){v(P)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Un=mt.port2;mt.port1.onmessage=P,E=function(){Un.postMessage(null)}}else E=function(){z(P,0)};function oi(B){_=B,F||(F=!0,E())}function $t(B,Q){p=z(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||R||(x=!0,oi(U))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var G=T;T=Q;try{return B()}finally{T=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var G=T;T=B;try{return Q()}finally{T=G}},t.unstable_scheduleCallback=function(B,Q,G){var he=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?he+G:he):G=he,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=G+ne,B={id:m++,callback:Q,priorityLevel:B,startTime:G,expirationTime:ne,sortIndex:-1},G>he?(B.sortIndex=G,e(f,B),n(c)===null&&B===n(f)&&(V?(I(p),p=-1):V=!0,$t(N,G-he))):(B.sortIndex=ne,e(c,B),x||R||(x=!0,oi(U))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var Q=T;return function(){var G=T;T=Q;try{return B.apply(this,arguments)}finally{T=G}}}})(Fp);Mp.exports=Fp;var n0=Mp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=Lt,ft=n0;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jp=new Set,Gi={};function cr(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(Gi[t]=e,t=0;t<e.length;t++)jp.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=Object.prototype.hasOwnProperty,i0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_f={},Ef={};function o0(t){return Ha.call(Ef,t)?!0:Ha.call(_f,t)?!1:i0.test(t)?Ef[t]=!0:(_f[t]=!0,!1)}function s0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l0(t,e,n,r){if(e===null||typeof e>"u"||s0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function ic(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rc,ic);Fe[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rc,ic);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rc,ic);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function oc(t,e,n,r){var i=Fe.hasOwnProperty(e)?Fe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l0(e,n,i,r)&&(n=null),r||i===null?o0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var an=r0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),wr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),sc=Symbol.for("react.strict_mode"),Qa=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),zp=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Wa=Symbol.for("react.suspense_list"),ac=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),wf=Symbol.iterator;function _i(t){return t===null||typeof t!="object"?null:(t=wf&&t[wf]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,fa;function Ri(t){if(fa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fa=e&&e[1]||""}return`
`+fa+t}var da=!1;function pa(t,e){if(!t||da)return"";da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==o[u]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{da=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ri(t):""}function a0(t){switch(t.tag){case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 2:case 15:return t=pa(t.type,!1),t;case 11:return t=pa(t.type.render,!1),t;case 1:return t=pa(t.type,!0),t;default:return""}}function qa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tr:return"Fragment";case wr:return"Portal";case Qa:return"Profiler";case sc:return"StrictMode";case Ga:return"Suspense";case Wa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zp:return(t.displayName||"Context")+".Consumer";case Up:return(t._context.displayName||"Context")+".Provider";case lc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ac:return e=t.displayName||null,e!==null?e:qa(t.type)||"Memo";case dn:e=t._payload,t=t._init;try{return qa(t(e))}catch{}}return null}function u0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qa(e);case 8:return e===sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $p(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c0(t){var e=$p(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qo(t){t._valueTracker||(t._valueTracker=c0(t))}function bp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$p(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ka(t,e){var n=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hp(t,e){e=e.checked,e!=null&&oc(t,"checked",e,!1)}function Xa(t,e){Hp(t,e);var n=xn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ya(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ya(t,e.type,xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ya(t,e,n){(e!=="number"||Ns(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ki=Array.isArray;function Dr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ja(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function If(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(ki(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xn(n)}}function Qp(t,e){var n=xn(e.value),r=xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Af(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Za(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ko,Wp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ko.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h0=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(t){h0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Di[e]=Di[t]})});function qp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Di.hasOwnProperty(t)&&Di[t]?(""+e).trim():e+"px"}function Kp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var f0=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(t,e){if(e){if(f0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function tu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ru=null,Or=null,Lr=null;function Cf(t){if(t=wo(t)){if(typeof ru!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Tl(e),ru(t.stateNode,t.type,e))}}function Xp(t){Or?Lr?Lr.push(t):Lr=[t]:Or=t}function Yp(){if(Or){var t=Or,e=Lr;if(Lr=Or=null,Cf(t),e)for(t=0;t<e.length;t++)Cf(e[t])}}function Jp(t,e){return t(e)}function Zp(){}var ma=!1;function em(t,e,n){if(ma)return t(e,n);ma=!0;try{return Jp(t,e,n)}finally{ma=!1,(Or!==null||Lr!==null)&&(Zp(),Yp())}}function qi(t,e){var n=t.stateNode;if(n===null)return null;var r=Tl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var iu=!1;if(nn)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{iu=!1}function d0(t,e,n,r,i,o,l,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Oi=!1,Vs=null,Ds=!1,ou=null,p0={onError:function(t){Oi=!0,Vs=t}};function m0(t,e,n,r,i,o,l,u,c){Oi=!1,Vs=null,d0.apply(p0,arguments)}function g0(t,e,n,r,i,o,l,u,c){if(m0.apply(this,arguments),Oi){if(Oi){var f=Vs;Oi=!1,Vs=null}else throw Error(L(198));Ds||(Ds=!0,ou=f)}}function hr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pf(t){if(hr(t)!==t)throw Error(L(188))}function y0(t){var e=t.alternate;if(!e){if(e=hr(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Pf(i),t;if(o===r)return Pf(i),e;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function nm(t){return t=y0(t),t!==null?rm(t):null}function rm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rm(t);if(e!==null)return e;t=t.sibling}return null}var im=ft.unstable_scheduleCallback,Rf=ft.unstable_cancelCallback,v0=ft.unstable_shouldYield,_0=ft.unstable_requestPaint,Ee=ft.unstable_now,E0=ft.unstable_getCurrentPriorityLevel,cc=ft.unstable_ImmediatePriority,om=ft.unstable_UserBlockingPriority,Os=ft.unstable_NormalPriority,w0=ft.unstable_LowPriority,sm=ft.unstable_IdlePriority,vl=null,jt=null;function T0(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(vl,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:A0,S0=Math.log,I0=Math.LN2;function A0(t){return t>>>=0,t===0?32:31-(S0(t)/I0|0)|0}var Xo=64,Yo=4194304;function xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ls(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=xi(u):(o&=l,o!==0&&(r=xi(o)))}else l=n&~i,l!==0?r=xi(l):o!==0&&(r=xi(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xt(e),i=1<<n,r|=t[n],e&=~i;return r}function C0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-xt(o),u=1<<l,c=i[l];c===-1?(!(u&n)||u&r)&&(i[l]=C0(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lm(){var t=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),t}function ga(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _o(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xt(e),t[e]=n}function R0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var te=0;function am(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var um,fc,cm,hm,fm,lu=!1,Jo=[],_n=null,En=null,wn=null,Ki=new Map,Xi=new Map,mn=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(t,e){switch(t){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ki.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(e.pointerId)}}function wi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=wo(e),e!==null&&fc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x0(t,e,n,r,i){switch(e){case"focusin":return _n=wi(_n,t,e,n,r,i),!0;case"dragenter":return En=wi(En,t,e,n,r,i),!0;case"mouseover":return wn=wi(wn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ki.set(o,wi(Ki.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xi.set(o,wi(Xi.get(o)||null,t,e,n,r,i)),!0}return!1}function dm(t){var e=Wn(t.target);if(e!==null){var n=hr(e);if(n!==null){if(e=n.tag,e===13){if(e=tm(n),e!==null){t.blockedOn=e,fm(t.priority,function(){cm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ys(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=au(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nu=r,n.target.dispatchEvent(r),nu=null}else return e=wo(n),e!==null&&fc(e),t.blockedOn=n,!1;e.shift()}return!0}function xf(t,e,n){ys(t)&&n.delete(e)}function N0(){lu=!1,_n!==null&&ys(_n)&&(_n=null),En!==null&&ys(En)&&(En=null),wn!==null&&ys(wn)&&(wn=null),Ki.forEach(xf),Xi.forEach(xf)}function Ti(t,e){t.blockedOn===e&&(t.blockedOn=null,lu||(lu=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,N0)))}function Yi(t){function e(i){return Ti(i,t)}if(0<Jo.length){Ti(Jo[0],t);for(var n=1;n<Jo.length;n++){var r=Jo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_n!==null&&Ti(_n,t),En!==null&&Ti(En,t),wn!==null&&Ti(wn,t),Ki.forEach(e),Xi.forEach(e),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)dm(n),n.blockedOn===null&&mn.shift()}var Mr=an.ReactCurrentBatchConfig,Ms=!0;function V0(t,e,n,r){var i=te,o=Mr.transition;Mr.transition=null;try{te=1,dc(t,e,n,r)}finally{te=i,Mr.transition=o}}function D0(t,e,n,r){var i=te,o=Mr.transition;Mr.transition=null;try{te=4,dc(t,e,n,r)}finally{te=i,Mr.transition=o}}function dc(t,e,n,r){if(Ms){var i=au(t,e,n,r);if(i===null)Ca(t,e,r,Fs,n),kf(t,r);else if(x0(i,t,e,n,r))r.stopPropagation();else if(kf(t,r),e&4&&-1<k0.indexOf(t)){for(;i!==null;){var o=wo(i);if(o!==null&&um(o),o=au(t,e,n,r),o===null&&Ca(t,e,r,Fs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ca(t,e,r,null,n)}}var Fs=null;function au(t,e,n,r){if(Fs=null,t=uc(r),t=Wn(t),t!==null)if(e=hr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fs=t,null}function pm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E0()){case cc:return 1;case om:return 4;case Os:case w0:return 16;case sm:return 536870912;default:return 16}default:return 16}}var yn=null,pc=null,vs=null;function mm(){if(vs)return vs;var t,e=pc,n=e.length,r,i="value"in yn?yn.value:yn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return vs=i.slice(t,1<r?1-r:void 0)}function _s(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zo(){return!0}function Nf(){return!1}function pt(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zo:Nf,this.isPropagationStopped=Nf,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),e}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=pt(ei),Eo=pe({},ei,{view:0,detail:0}),O0=pt(Eo),ya,va,Si,_l=pe({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(ya=t.screenX-Si.screenX,va=t.screenY-Si.screenY):va=ya=0,Si=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Vf=pt(_l),L0=pe({},_l,{dataTransfer:0}),M0=pt(L0),F0=pe({},Eo,{relatedTarget:0}),_a=pt(F0),j0=pe({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=pt(j0),z0=pe({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B0=pt(z0),$0=pe({},ei,{data:0}),Df=pt($0),b0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q0[t])?!!e[t]:!1}function gc(){return G0}var W0=pe({},Eo,{key:function(t){if(t.key){var e=b0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q0=pt(W0),K0=pe({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=pt(K0),X0=pe({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),Y0=pt(X0),J0=pe({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=pt(J0),e_=pe({},_l,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),t_=pt(e_),n_=[9,13,27,32],yc=nn&&"CompositionEvent"in window,Li=null;nn&&"documentMode"in document&&(Li=document.documentMode);var r_=nn&&"TextEvent"in window&&!Li,gm=nn&&(!yc||Li&&8<Li&&11>=Li),Lf=" ",Mf=!1;function ym(t,e){switch(t){case"keyup":return n_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sr=!1;function i_(t,e){switch(t){case"compositionend":return vm(e);case"keypress":return e.which!==32?null:(Mf=!0,Lf);case"textInput":return t=e.data,t===Lf&&Mf?null:t;default:return null}}function o_(t,e){if(Sr)return t==="compositionend"||!yc&&ym(t,e)?(t=mm(),vs=pc=yn=null,Sr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gm&&e.locale!=="ko"?null:e.data;default:return null}}var s_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ff(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s_[t.type]:e==="textarea"}function _m(t,e,n,r){Xp(r),e=js(e,"onChange"),0<e.length&&(n=new mc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mi=null,Ji=null;function l_(t){xm(t,0)}function El(t){var e=Cr(t);if(bp(e))return t}function a_(t,e){if(t==="change")return e}var Em=!1;if(nn){var Ea;if(nn){var wa="oninput"in document;if(!wa){var jf=document.createElement("div");jf.setAttribute("oninput","return;"),wa=typeof jf.oninput=="function"}Ea=wa}else Ea=!1;Em=Ea&&(!document.documentMode||9<document.documentMode)}function Uf(){Mi&&(Mi.detachEvent("onpropertychange",wm),Ji=Mi=null)}function wm(t){if(t.propertyName==="value"&&El(Ji)){var e=[];_m(e,Ji,t,uc(t)),em(l_,e)}}function u_(t,e,n){t==="focusin"?(Uf(),Mi=e,Ji=n,Mi.attachEvent("onpropertychange",wm)):t==="focusout"&&Uf()}function c_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return El(Ji)}function h_(t,e){if(t==="click")return El(e)}function f_(t,e){if(t==="input"||t==="change")return El(e)}function d_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:d_;function Zi(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ha.call(e,i)||!Vt(t[i],e[i]))return!1}return!0}function zf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bf(t,e){var n=zf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zf(n)}}function Tm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sm(){for(var t=window,e=Ns();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ns(t.document)}return e}function vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function p_(t){var e=Sm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tm(n.ownerDocument.documentElement,n)){if(r!==null&&vc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Bf(n,o);var l=Bf(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m_=nn&&"documentMode"in document&&11>=document.documentMode,Ir=null,uu=null,Fi=null,cu=!1;function $f(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cu||Ir==null||Ir!==Ns(r)||(r=Ir,"selectionStart"in r&&vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fi&&Zi(Fi,r)||(Fi=r,r=js(uu,"onSelect"),0<r.length&&(e=new mc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ir)))}function es(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ar={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Ta={},Im={};nn&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function wl(t){if(Ta[t])return Ta[t];if(!Ar[t])return t;var e=Ar[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Im)return Ta[t]=e[n];return t}var Am=wl("animationend"),Cm=wl("animationiteration"),Pm=wl("animationstart"),Rm=wl("transitionend"),km=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(t,e){km.set(t,e),cr(e,[t])}for(var Sa=0;Sa<bf.length;Sa++){var Ia=bf[Sa],g_=Ia.toLowerCase(),y_=Ia[0].toUpperCase()+Ia.slice(1);Mn(g_,"on"+y_)}Mn(Am,"onAnimationEnd");Mn(Cm,"onAnimationIteration");Mn(Pm,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Rm,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Hf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,g0(r,e,void 0,t),t.currentTarget=null}function xm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;Hf(i,u,f),o=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;Hf(i,u,f),o=c}}}if(Ds)throw t=ou,Ds=!1,ou=null,t}function le(t,e){var n=e[mu];n===void 0&&(n=e[mu]=new Set);var r=t+"__bubble";n.has(r)||(Nm(e,t,2,!1),n.add(r))}function Aa(t,e,n){var r=0;e&&(r|=4),Nm(n,t,r,e)}var ts="_reactListening"+Math.random().toString(36).slice(2);function eo(t){if(!t[ts]){t[ts]=!0,jp.forEach(function(n){n!=="selectionchange"&&(v_.has(n)||Aa(n,!1,t),Aa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ts]||(e[ts]=!0,Aa("selectionchange",!1,e))}}function Nm(t,e,n,r){switch(pm(e)){case 1:var i=V0;break;case 4:i=D0;break;default:i=dc}n=i.bind(null,e,n,t),i=void 0,!iu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ca(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Wn(u),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}u=u.parentNode}}r=r.return}em(function(){var f=o,m=uc(n),g=[];e:{var T=km.get(t);if(T!==void 0){var R=mc,x=t;switch(t){case"keypress":if(_s(n)===0)break e;case"keydown":case"keyup":R=q0;break;case"focusin":x="focus",R=_a;break;case"focusout":x="blur",R=_a;break;case"beforeblur":case"afterblur":R=_a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=M0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Y0;break;case Am:case Cm:case Pm:R=U0;break;case Rm:R=Z0;break;case"scroll":R=O0;break;case"wheel":R=t_;break;case"copy":case"cut":case"paste":R=B0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Of}var V=(e&4)!==0,z=!V&&t==="scroll",I=V?T!==null?T+"Capture":null:T;V=[];for(var v=f,S;v!==null;){S=v;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,I!==null&&(N=qi(v,I),N!=null&&V.push(to(v,N,S)))),z)break;v=v.return}0<V.length&&(T=new R(T,x,null,n,m),g.push({event:T,listeners:V}))}}if(!(e&7)){e:{if(T=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",T&&n!==nu&&(x=n.relatedTarget||n.fromElement)&&(Wn(x)||x[rn]))break e;if((R||T)&&(T=m.window===m?m:(T=m.ownerDocument)?T.defaultView||T.parentWindow:window,R?(x=n.relatedTarget||n.toElement,R=f,x=x?Wn(x):null,x!==null&&(z=hr(x),x!==z||x.tag!==5&&x.tag!==6)&&(x=null)):(R=null,x=f),R!==x)){if(V=Vf,N="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(V=Of,N="onPointerLeave",I="onPointerEnter",v="pointer"),z=R==null?T:Cr(R),S=x==null?T:Cr(x),T=new V(N,v+"leave",R,n,m),T.target=z,T.relatedTarget=S,N=null,Wn(m)===f&&(V=new V(I,v+"enter",x,n,m),V.target=S,V.relatedTarget=z,N=V),z=N,R&&x)t:{for(V=R,I=x,v=0,S=V;S;S=vr(S))v++;for(S=0,N=I;N;N=vr(N))S++;for(;0<v-S;)V=vr(V),v--;for(;0<S-v;)I=vr(I),S--;for(;v--;){if(V===I||I!==null&&V===I.alternate)break t;V=vr(V),I=vr(I)}V=null}else V=null;R!==null&&Qf(g,T,R,V,!1),x!==null&&z!==null&&Qf(g,z,x,V,!0)}}e:{if(T=f?Cr(f):window,R=T.nodeName&&T.nodeName.toLowerCase(),R==="select"||R==="input"&&T.type==="file")var U=a_;else if(Ff(T))if(Em)U=f_;else{U=c_;var F=u_}else(R=T.nodeName)&&R.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(U=h_);if(U&&(U=U(t,f))){_m(g,U,n,m);break e}F&&F(t,T,f),t==="focusout"&&(F=T._wrapperState)&&F.controlled&&T.type==="number"&&Ya(T,"number",T.value)}switch(F=f?Cr(f):window,t){case"focusin":(Ff(F)||F.contentEditable==="true")&&(Ir=F,uu=f,Fi=null);break;case"focusout":Fi=uu=Ir=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,$f(g,n,m);break;case"selectionchange":if(m_)break;case"keydown":case"keyup":$f(g,n,m)}var _;if(yc)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Sr?ym(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(gm&&n.locale!=="ko"&&(Sr||p!=="onCompositionStart"?p==="onCompositionEnd"&&Sr&&(_=mm()):(yn=m,pc="value"in yn?yn.value:yn.textContent,Sr=!0)),F=js(f,p),0<F.length&&(p=new Df(p,t,null,n,m),g.push({event:p,listeners:F}),_?p.data=_:(_=vm(n),_!==null&&(p.data=_)))),(_=r_?i_(t,n):o_(t,n))&&(f=js(f,"onBeforeInput"),0<f.length&&(m=new Df("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:f}),m.data=_))}xm(g,e)})}function to(t,e,n){return{instance:t,listener:e,currentTarget:n}}function js(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qi(t,n),o!=null&&r.unshift(to(t,o,i)),o=qi(t,e),o!=null&&r.push(to(t,o,i))),t=t.return}return r}function vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qf(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=qi(n,o),c!=null&&l.unshift(to(n,c,u))):i||(c=qi(n,o),c!=null&&l.push(to(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var __=/\r\n?/g,E_=/\u0000|\uFFFD/g;function Gf(t){return(typeof t=="string"?t:""+t).replace(__,`
`).replace(E_,"")}function ns(t,e,n){if(e=Gf(e),Gf(t)!==e&&n)throw Error(L(425))}function Us(){}var hu=null,fu=null;function du(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,w_=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,T_=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(t){return Wf.resolve(null).then(t).catch(S_)}:pu;function S_(t){setTimeout(function(){throw t})}function Pa(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yi(e)}function Tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ti,no="__reactProps$"+ti,rn="__reactContainer$"+ti,mu="__reactEvents$"+ti,I_="__reactListeners$"+ti,A_="__reactHandles$"+ti;function Wn(t){var e=t[Ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[Ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qf(t);t!==null;){if(n=t[Ft])return n;t=qf(t)}return e}t=n,n=t.parentNode}return null}function wo(t){return t=t[Ft]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Tl(t){return t[no]||null}var gu=[],Pr=-1;function Fn(t){return{current:t}}function ae(t){0>Pr||(t.current=gu[Pr],gu[Pr]=null,Pr--)}function ie(t,e){Pr++,gu[Pr]=t.current,t.current=e}var Nn={},We=Fn(Nn),it=Fn(!1),tr=Nn;function $r(t,e){var n=t.type.contextTypes;if(!n)return Nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ot(t){return t=t.childContextTypes,t!=null}function zs(){ae(it),ae(We)}function Kf(t,e,n){if(We.current!==Nn)throw Error(L(168));ie(We,e),ie(it,n)}function Vm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,u0(t)||"Unknown",i));return pe({},n,r)}function Bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nn,tr=We.current,ie(We,t),ie(it,it.current),!0}function Xf(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=Vm(t,e,tr),r.__reactInternalMemoizedMergedChildContext=t,ae(it),ae(We),ie(We,t)):ae(it),ie(it,n)}var Xt=null,Sl=!1,Ra=!1;function Dm(t){Xt===null?Xt=[t]:Xt.push(t)}function C_(t){Sl=!0,Dm(t)}function jn(){if(!Ra&&Xt!==null){Ra=!0;var t=0,e=te;try{var n=Xt;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xt=null,Sl=!1}catch(i){throw Xt!==null&&(Xt=Xt.slice(t+1)),im(cc,jn),i}finally{te=e,Ra=!1}}return null}var Rr=[],kr=0,$s=null,bs=0,gt=[],yt=0,nr=null,Yt=1,Jt="";function Hn(t,e){Rr[kr++]=bs,Rr[kr++]=$s,$s=t,bs=e}function Om(t,e,n){gt[yt++]=Yt,gt[yt++]=Jt,gt[yt++]=nr,nr=t;var r=Yt;t=Jt;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var o=32-xt(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Yt=1<<32-xt(e)+i|n<<i|r,Jt=o+t}else Yt=1<<o|n<<i|r,Jt=t}function _c(t){t.return!==null&&(Hn(t,1),Om(t,1,0))}function Ec(t){for(;t===$s;)$s=Rr[--kr],Rr[kr]=null,bs=Rr[--kr],Rr[kr]=null;for(;t===nr;)nr=gt[--yt],gt[yt]=null,Jt=gt[--yt],gt[yt]=null,Yt=gt[--yt],gt[yt]=null}var ht=null,ct=null,ce=!1,Ct=null;function Lm(t,e){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ct=Tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nr!==null?{id:Yt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ct=null,!0):!1;default:return!1}}function yu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vu(t){if(ce){var e=ct;if(e){var n=e;if(!Yf(t,e)){if(yu(t))throw Error(L(418));e=Tn(n.nextSibling);var r=ht;e&&Yf(t,e)?Lm(r,n):(t.flags=t.flags&-4097|2,ce=!1,ht=t)}}else{if(yu(t))throw Error(L(418));t.flags=t.flags&-4097|2,ce=!1,ht=t}}}function Jf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function rs(t){if(t!==ht)return!1;if(!ce)return Jf(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!du(t.type,t.memoizedProps)),e&&(e=ct)){if(yu(t))throw Mm(),Error(L(418));for(;e;)Lm(t,e),e=Tn(e.nextSibling)}if(Jf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ct=Tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ct=null}}else ct=ht?Tn(t.stateNode.nextSibling):null;return!0}function Mm(){for(var t=ct;t;)t=Tn(t.nextSibling)}function br(){ct=ht=null,ce=!1}function wc(t){Ct===null?Ct=[t]:Ct.push(t)}var P_=an.ReactCurrentBatchConfig;function Ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=i.refs;l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function is(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zf(t){var e=t._init;return e(t._payload)}function Fm(t){function e(I,v){if(t){var S=I.deletions;S===null?(I.deletions=[v],I.flags|=16):S.push(v)}}function n(I,v){if(!t)return null;for(;v!==null;)e(I,v),v=v.sibling;return null}function r(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function i(I,v){return I=Cn(I,v),I.index=0,I.sibling=null,I}function o(I,v,S){return I.index=S,t?(S=I.alternate,S!==null?(S=S.index,S<v?(I.flags|=2,v):S):(I.flags|=2,v)):(I.flags|=1048576,v)}function l(I){return t&&I.alternate===null&&(I.flags|=2),I}function u(I,v,S,N){return v===null||v.tag!==6?(v=La(S,I.mode,N),v.return=I,v):(v=i(v,S),v.return=I,v)}function c(I,v,S,N){var U=S.type;return U===Tr?m(I,v,S.props.children,N,S.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===dn&&Zf(U)===v.type)?(N=i(v,S.props),N.ref=Ii(I,v,S),N.return=I,N):(N=Cs(S.type,S.key,S.props,null,I.mode,N),N.ref=Ii(I,v,S),N.return=I,N)}function f(I,v,S,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Ma(S,I.mode,N),v.return=I,v):(v=i(v,S.children||[]),v.return=I,v)}function m(I,v,S,N,U){return v===null||v.tag!==7?(v=Jn(S,I.mode,N,U),v.return=I,v):(v=i(v,S),v.return=I,v)}function g(I,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=La(""+v,I.mode,S),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wo:return S=Cs(v.type,v.key,v.props,null,I.mode,S),S.ref=Ii(I,null,v),S.return=I,S;case wr:return v=Ma(v,I.mode,S),v.return=I,v;case dn:var N=v._init;return g(I,N(v._payload),S)}if(ki(v)||_i(v))return v=Jn(v,I.mode,S,null),v.return=I,v;is(I,v)}return null}function T(I,v,S,N){var U=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return U!==null?null:u(I,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wo:return S.key===U?c(I,v,S,N):null;case wr:return S.key===U?f(I,v,S,N):null;case dn:return U=S._init,T(I,v,U(S._payload),N)}if(ki(S)||_i(S))return U!==null?null:m(I,v,S,N,null);is(I,S)}return null}function R(I,v,S,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return I=I.get(S)||null,u(v,I,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Wo:return I=I.get(N.key===null?S:N.key)||null,c(v,I,N,U);case wr:return I=I.get(N.key===null?S:N.key)||null,f(v,I,N,U);case dn:var F=N._init;return R(I,v,S,F(N._payload),U)}if(ki(N)||_i(N))return I=I.get(S)||null,m(v,I,N,U,null);is(v,N)}return null}function x(I,v,S,N){for(var U=null,F=null,_=v,p=v=0,y=null;_!==null&&p<S.length;p++){_.index>p?(y=_,_=null):y=_.sibling;var w=T(I,_,S[p],N);if(w===null){_===null&&(_=y);break}t&&_&&w.alternate===null&&e(I,_),v=o(w,v,p),F===null?U=w:F.sibling=w,F=w,_=y}if(p===S.length)return n(I,_),ce&&Hn(I,p),U;if(_===null){for(;p<S.length;p++)_=g(I,S[p],N),_!==null&&(v=o(_,v,p),F===null?U=_:F.sibling=_,F=_);return ce&&Hn(I,p),U}for(_=r(I,_);p<S.length;p++)y=R(_,I,p,S[p],N),y!==null&&(t&&y.alternate!==null&&_.delete(y.key===null?p:y.key),v=o(y,v,p),F===null?U=y:F.sibling=y,F=y);return t&&_.forEach(function(A){return e(I,A)}),ce&&Hn(I,p),U}function V(I,v,S,N){var U=_i(S);if(typeof U!="function")throw Error(L(150));if(S=U.call(S),S==null)throw Error(L(151));for(var F=U=null,_=v,p=v=0,y=null,w=S.next();_!==null&&!w.done;p++,w=S.next()){_.index>p?(y=_,_=null):y=_.sibling;var A=T(I,_,w.value,N);if(A===null){_===null&&(_=y);break}t&&_&&A.alternate===null&&e(I,_),v=o(A,v,p),F===null?U=A:F.sibling=A,F=A,_=y}if(w.done)return n(I,_),ce&&Hn(I,p),U;if(_===null){for(;!w.done;p++,w=S.next())w=g(I,w.value,N),w!==null&&(v=o(w,v,p),F===null?U=w:F.sibling=w,F=w);return ce&&Hn(I,p),U}for(_=r(I,_);!w.done;p++,w=S.next())w=R(_,I,p,w.value,N),w!==null&&(t&&w.alternate!==null&&_.delete(w.key===null?p:w.key),v=o(w,v,p),F===null?U=w:F.sibling=w,F=w);return t&&_.forEach(function(P){return e(I,P)}),ce&&Hn(I,p),U}function z(I,v,S,N){if(typeof S=="object"&&S!==null&&S.type===Tr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Wo:e:{for(var U=S.key,F=v;F!==null;){if(F.key===U){if(U=S.type,U===Tr){if(F.tag===7){n(I,F.sibling),v=i(F,S.props.children),v.return=I,I=v;break e}}else if(F.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===dn&&Zf(U)===F.type){n(I,F.sibling),v=i(F,S.props),v.ref=Ii(I,F,S),v.return=I,I=v;break e}n(I,F);break}else e(I,F);F=F.sibling}S.type===Tr?(v=Jn(S.props.children,I.mode,N,S.key),v.return=I,I=v):(N=Cs(S.type,S.key,S.props,null,I.mode,N),N.ref=Ii(I,v,S),N.return=I,I=N)}return l(I);case wr:e:{for(F=S.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(I,v.sibling),v=i(v,S.children||[]),v.return=I,I=v;break e}else{n(I,v);break}else e(I,v);v=v.sibling}v=Ma(S,I.mode,N),v.return=I,I=v}return l(I);case dn:return F=S._init,z(I,v,F(S._payload),N)}if(ki(S))return x(I,v,S,N);if(_i(S))return V(I,v,S,N);is(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(I,v.sibling),v=i(v,S),v.return=I,I=v):(n(I,v),v=La(S,I.mode,N),v.return=I,I=v),l(I)):n(I,v)}return z}var Hr=Fm(!0),jm=Fm(!1),Hs=Fn(null),Qs=null,xr=null,Tc=null;function Sc(){Tc=xr=Qs=null}function Ic(t){var e=Hs.current;ae(Hs),t._currentValue=e}function _u(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fr(t,e){Qs=t,Tc=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(Tc!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(Qs===null)throw Error(L(308));xr=t,Qs.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var qn=null;function Ac(t){qn===null?qn=[t]:qn.push(t)}function Um(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ac(e)):(n.next=i.next,i.next=n),e.interleaved=n,on(t,r)}function on(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pn=!1;function Cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,on(t,n)}return i=r.interleaved,i===null?(e.next=e,Ac(r)):(e.next=i.next,i.next=e),r.interleaved=e,on(t,n)}function Es(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hc(t,n)}}function ed(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gs(t,e,n,r){var i=t.updateQueue;pn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,l===null?o=f:l.next=f,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=c))}if(o!==null){var g=i.baseState;l=0,m=f=c=null,u=o;do{var T=u.lane,R=u.eventTime;if((r&T)===T){m!==null&&(m=m.next={eventTime:R,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,V=u;switch(T=e,R=n,V.tag){case 1:if(x=V.payload,typeof x=="function"){g=x.call(R,g,T);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=V.payload,T=typeof x=="function"?x.call(R,g,T):x,T==null)break e;g=pe({},g,T);break e;case 2:pn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,T=i.effects,T===null?i.effects=[u]:T.push(u))}else R={eventTime:R,lane:T,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=R,c=g):m=m.next=R,l|=T;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;T=u,u=T.next,T.next=null,i.lastBaseUpdate=T,i.shared.pending=null}}while(!0);if(m===null&&(c=g),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ir|=l,t.lanes=l,t.memoizedState=g}}function td(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var To={},Ut=Fn(To),ro=Fn(To),io=Fn(To);function Kn(t){if(t===To)throw Error(L(174));return t}function Pc(t,e){switch(ie(io,e),ie(ro,t),ie(Ut,To),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Za(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Za(e,t)}ae(Ut),ie(Ut,e)}function Qr(){ae(Ut),ae(ro),ae(io)}function Bm(t){Kn(io.current);var e=Kn(Ut.current),n=Za(e,t.type);e!==n&&(ie(ro,t),ie(Ut,n))}function Rc(t){ro.current===t&&(ae(Ut),ae(ro))}var fe=Fn(0);function Ws(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ka=[];function kc(){for(var t=0;t<ka.length;t++)ka[t]._workInProgressVersionPrimary=null;ka.length=0}var ws=an.ReactCurrentDispatcher,xa=an.ReactCurrentBatchConfig,rr=0,de=null,Se=null,Ce=null,qs=!1,ji=!1,oo=0,R_=0;function Be(){throw Error(L(321))}function xc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vt(t[n],e[n]))return!1;return!0}function Nc(t,e,n,r,i,o){if(rr=o,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ws.current=t===null||t.memoizedState===null?V_:D_,t=n(r,i),ji){o=0;do{if(ji=!1,oo=0,25<=o)throw Error(L(301));o+=1,Ce=Se=null,e.updateQueue=null,ws.current=O_,t=n(r,i)}while(ji)}if(ws.current=Ks,e=Se!==null&&Se.next!==null,rr=0,Ce=Se=de=null,qs=!1,e)throw Error(L(300));return t}function Vc(){var t=oo!==0;return oo=0,t}function Ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?de.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function wt(){if(Se===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ce===null?de.memoizedState:Ce.next;if(e!==null)Ce=e,Se=t;else{if(t===null)throw Error(L(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ce===null?de.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function so(t,e){return typeof e=="function"?e(t):e}function Na(t){var e=wt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Se,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=l=null,c=null,f=o;do{var m=f.lane;if((rr&m)===m)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=g,l=r):c=c.next=g,de.lanes|=m,ir|=m}f=f.next}while(f!==null&&f!==o);c===null?l=r:c.next=u,Vt(r,e.memoizedState)||(rt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,de.lanes|=o,ir|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Va(t){var e=wt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);Vt(o,e.memoizedState)||(rt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $m(){}function bm(t,e){var n=de,r=wt(),i=e(),o=!Vt(r.memoizedState,i);if(o&&(r.memoizedState=i,rt=!0),r=r.queue,Dc(Gm.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,lo(9,Qm.bind(null,n,r,i,e),void 0,null),Re===null)throw Error(L(349));rr&30||Hm(n,e,i)}return i}function Hm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qm(t,e,n,r){e.value=n,e.getSnapshot=r,Wm(e)&&qm(t)}function Gm(t,e,n){return n(function(){Wm(e)&&qm(t)})}function Wm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vt(t,n)}catch{return!0}}function qm(t){var e=on(t,1);e!==null&&Nt(e,t,1,-1)}function nd(t){var e=Ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},e.queue=t,t=t.dispatch=N_.bind(null,de,t),[e.memoizedState,t]}function lo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Km(){return wt().memoizedState}function Ts(t,e,n,r){var i=Ot();de.flags|=t,i.memoizedState=lo(1|e,n,void 0,r===void 0?null:r)}function Il(t,e,n,r){var i=wt();r=r===void 0?null:r;var o=void 0;if(Se!==null){var l=Se.memoizedState;if(o=l.destroy,r!==null&&xc(r,l.deps)){i.memoizedState=lo(e,n,o,r);return}}de.flags|=t,i.memoizedState=lo(1|e,n,o,r)}function rd(t,e){return Ts(8390656,8,t,e)}function Dc(t,e){return Il(2048,8,t,e)}function Xm(t,e){return Il(4,2,t,e)}function Ym(t,e){return Il(4,4,t,e)}function Jm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zm(t,e,n){return n=n!=null?n.concat([t]):null,Il(4,4,Jm.bind(null,e,t),n)}function Oc(){}function eg(t,e){var n=wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tg(t,e){var n=wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ng(t,e,n){return rr&21?(Vt(n,e)||(n=lm(),de.lanes|=n,ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function k_(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=xa.transition;xa.transition={};try{t(!1),e()}finally{te=n,xa.transition=r}}function rg(){return wt().memoizedState}function x_(t,e,n){var r=An(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ig(t))og(e,n);else if(n=Um(t,e,n,r),n!==null){var i=Ye();Nt(n,t,r,i),sg(n,e,r)}}function N_(t,e,n){var r=An(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ig(t))og(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,n);if(i.hasEagerState=!0,i.eagerState=u,Vt(u,l)){var c=e.interleaved;c===null?(i.next=i,Ac(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Um(t,e,i,r),n!==null&&(i=Ye(),Nt(n,t,r,i),sg(n,e,r))}}function ig(t){var e=t.alternate;return t===de||e!==null&&e===de}function og(t,e){ji=qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hc(t,n)}}var Ks={readContext:Et,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},V_={readContext:Et,useCallback:function(t,e){return Ot().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:rd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ts(4194308,4,Jm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ts(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ts(4,2,t,e)},useMemo:function(t,e){var n=Ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ot();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x_.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=Ot();return t={current:t},e.memoizedState=t},useState:nd,useDebugValue:Oc,useDeferredValue:function(t){return Ot().memoizedState=t},useTransition:function(){var t=nd(!1),e=t[0];return t=k_.bind(null,t[1]),Ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,i=Ot();if(ce){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Re===null)throw Error(L(349));rr&30||Hm(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rd(Gm.bind(null,r,o,t),[t]),r.flags|=2048,lo(9,Qm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ot(),e=Re.identifierPrefix;if(ce){var n=Jt,r=Yt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D_={readContext:Et,useCallback:eg,useContext:Et,useEffect:Dc,useImperativeHandle:Zm,useInsertionEffect:Xm,useLayoutEffect:Ym,useMemo:tg,useReducer:Na,useRef:Km,useState:function(){return Na(so)},useDebugValue:Oc,useDeferredValue:function(t){var e=wt();return ng(e,Se.memoizedState,t)},useTransition:function(){var t=Na(so)[0],e=wt().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:bm,useId:rg,unstable_isNewReconciler:!1},O_={readContext:Et,useCallback:eg,useContext:Et,useEffect:Dc,useImperativeHandle:Zm,useInsertionEffect:Xm,useLayoutEffect:Ym,useMemo:tg,useReducer:Va,useRef:Km,useState:function(){return Va(so)},useDebugValue:Oc,useDeferredValue:function(t){var e=wt();return Se===null?e.memoizedState=t:ng(e,Se.memoizedState,t)},useTransition:function(){var t=Va(so)[0],e=wt().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:bm,useId:rg,unstable_isNewReconciler:!1};function It(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Eu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Al={isMounted:function(t){return(t=t._reactInternals)?hr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=An(t),o=Zt(r,i);o.payload=e,n!=null&&(o.callback=n),e=Sn(t,o,i),e!==null&&(Nt(e,t,i,r),Es(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=An(t),o=Zt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Sn(t,o,i),e!==null&&(Nt(e,t,i,r),Es(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=An(t),i=Zt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Sn(t,i,r),e!==null&&(Nt(e,t,r,n),Es(e,t,r))}};function id(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Zi(n,r)||!Zi(i,o):!0}function lg(t,e,n){var r=!1,i=Nn,o=e.contextType;return typeof o=="object"&&o!==null?o=Et(o):(i=ot(e)?tr:We.current,r=e.contextTypes,o=(r=r!=null)?$r(t,i):Nn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Al,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function od(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Al.enqueueReplaceState(e,e.state,null)}function wu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Et(o):(o=ot(e)?tr:We.current,i.context=$r(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Eu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Al.enqueueReplaceState(i,i.state,null),Gs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,e){try{var n="",r=e;do n+=a0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Da(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L_=typeof WeakMap=="function"?WeakMap:Map;function ag(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ys||(Ys=!0,Vu=r),Tu(t,e)},n}function ug(t,e,n){n=Zt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tu(t,e),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function sd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=K_.bind(null,t,e,n),e.then(t,t))}function ld(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ad(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,Sn(n,e,1))),n.lanes|=1),t)}var M_=an.ReactCurrentOwner,rt=!1;function Xe(t,e,n,r){e.child=t===null?jm(e,null,n,r):Hr(e,t.child,n,r)}function ud(t,e,n,r,i){n=n.render;var o=e.ref;return Fr(e,i),r=Nc(t,e,n,r,o,i),n=Vc(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(ce&&n&&_c(e),e.flags|=1,Xe(t,e,r,i),e.child)}function cd(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!$c(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,cg(t,e,o,r,i)):(t=Cs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zi,n(l,r)&&t.ref===e.ref)return sn(t,e,i)}return e.flags|=1,t=Cn(o,r),t.ref=e.ref,t.return=e,e.child=t}function cg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Zi(o,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,sn(t,e,i)}return Su(t,e,n,r,i)}function hg(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Vr,ut),ut|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Vr,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ie(Vr,ut),ut|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ie(Vr,ut),ut|=r;return Xe(t,e,i,n),e.child}function fg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Su(t,e,n,r,i){var o=ot(n)?tr:We.current;return o=$r(e,o),Fr(e,i),n=Nc(t,e,n,r,o,i),r=Vc(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(ce&&r&&_c(e),e.flags|=1,Xe(t,e,n,i),e.child)}function hd(t,e,n,r,i){if(ot(n)){var o=!0;Bs(e)}else o=!1;if(Fr(e,i),e.stateNode===null)Ss(t,e),lg(e,n,r),wu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Et(f):(f=ot(n)?tr:We.current,f=$r(e,f));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==f)&&od(e,l,r,f),pn=!1;var T=e.memoizedState;l.state=T,Gs(e,r,l,i),c=e.memoizedState,u!==r||T!==c||it.current||pn?(typeof m=="function"&&(Eu(e,n,m,r),c=e.memoizedState),(u=pn||id(e,n,u,r,T,c,f))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,zm(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:It(e.type,u),l.props=f,g=e.pendingProps,T=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=ot(n)?tr:We.current,c=$r(e,c));var R=n.getDerivedStateFromProps;(m=typeof R=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==g||T!==c)&&od(e,l,r,c),pn=!1,T=e.memoizedState,l.state=T,Gs(e,r,l,i);var x=e.memoizedState;u!==g||T!==x||it.current||pn?(typeof R=="function"&&(Eu(e,n,R,r),x=e.memoizedState),(f=pn||id(e,n,f,r,T,x,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),l.props=r,l.state=x,l.context=c,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),r=!1)}return Iu(t,e,n,r,o,i)}function Iu(t,e,n,r,i,o){fg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Xf(e,n,!1),sn(t,e,o);r=e.stateNode,M_.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Hr(e,t.child,null,o),e.child=Hr(e,null,u,o)):Xe(t,e,u,o),e.memoizedState=r.state,i&&Xf(e,n,!0),e.child}function dg(t){var e=t.stateNode;e.pendingContext?Kf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kf(t,e.context,!1),Pc(t,e.containerInfo)}function fd(t,e,n,r,i){return br(),wc(i),e.flags|=256,Xe(t,e,n,r),e.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Cu(t){return{baseLanes:t,cachePool:null,transitions:null}}function pg(t,e,n){var r=e.pendingProps,i=fe.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ie(fe,i&1),t===null)return vu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Rl(l,r,0,null),t=Jn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Cu(n),e.memoizedState=Au,t):Lc(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return F_(t,e,l,r,u,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Cn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Cn(u,o):(o=Jn(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?Cu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Au,r}return o=t.child,t=o.sibling,r=Cn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lc(t,e){return e=Rl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function os(t,e,n,r){return r!==null&&wc(r),Hr(e,t.child,null,n),t=Lc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F_(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Da(Error(L(422))),os(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Rl({mode:"visible",children:r.children},i,0,null),o=Jn(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Hr(e,t.child,null,l),e.child.memoizedState=Cu(l),e.memoizedState=Au,o);if(!(e.mode&1))return os(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(L(419)),r=Da(o,r,void 0),os(t,e,l,r)}if(u=(l&t.childLanes)!==0,rt||u){if(r=Re,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,on(t,i),Nt(r,t,i,-1))}return Bc(),r=Da(Error(L(421))),os(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=X_.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ct=Tn(i.nextSibling),ht=e,ce=!0,Ct=null,t!==null&&(gt[yt++]=Yt,gt[yt++]=Jt,gt[yt++]=nr,Yt=t.id,Jt=t.overflow,nr=e),e=Lc(e,r.children),e.flags|=4096,e)}function dd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_u(t.return,e,n)}function Oa(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function mg(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xe(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dd(t,n,e);else if(t.tag===19)dd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ws(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Oa(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ws(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Oa(e,!0,n,null,o);break;case"together":Oa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ss(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function j_(t,e,n){switch(e.tag){case 3:dg(e),br();break;case 5:Bm(e);break;case 1:ot(e.type)&&Bs(e);break;case 4:Pc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ie(Hs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?pg(t,e,n):(ie(fe,fe.current&1),t=sn(t,e,n),t!==null?t.sibling:null);ie(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,hg(t,e,n)}return sn(t,e,n)}var gg,Pu,yg,vg;gg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pu=function(){};yg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kn(Ut.current);var o=null;switch(n){case"input":i=Ka(t,i),r=Ka(t,r),o=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),o=[];break;case"textarea":i=Ja(t,i),r=Ja(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Us)}eu(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Gi.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(o||(o=[]),o.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Gi.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&le("scroll",t),o||u===c||(o=[])):(o=o||[]).push(f,c))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};vg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ai(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U_(t,e,n){var r=e.pendingProps;switch(Ec(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return ot(e.type)&&zs(),$e(e),null;case 3:return r=e.stateNode,Qr(),ae(it),ae(We),kc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(Lu(Ct),Ct=null))),Pu(t,e),$e(e),null;case 5:Rc(e);var i=Kn(io.current);if(n=e.type,t!==null&&e.stateNode!=null)yg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return $e(e),null}if(t=Kn(Ut.current),rs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ft]=e,r[no]=o,t=(e.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(i=0;i<Ni.length;i++)le(Ni[i],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Tf(r,o),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},le("invalid",r);break;case"textarea":If(r,o),le("invalid",r)}eu(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&ns(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&ns(r.textContent,u,t),i=["children",""+u]):Gi.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&le("scroll",r)}switch(n){case"input":qo(r),Sf(r,o,!0);break;case"textarea":qo(r),Af(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Us)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ft]=e,t[no]=r,gg(t,e,!1,!1),e.stateNode=t;e:{switch(l=tu(n,r),n){case"dialog":le("cancel",t),le("close",t),i=r;break;case"iframe":case"object":case"embed":le("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ni.length;i++)le(Ni[i],t);i=r;break;case"source":le("error",t),i=r;break;case"img":case"image":case"link":le("error",t),le("load",t),i=r;break;case"details":le("toggle",t),i=r;break;case"input":Tf(t,r),i=Ka(t,r),le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),le("invalid",t);break;case"textarea":If(t,r),i=Ja(t,r),le("invalid",t);break;default:i=r}eu(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?Kp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wp(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wi(t,c):typeof c=="number"&&Wi(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&le("scroll",t):c!=null&&oc(t,o,c,l))}switch(n){case"input":qo(t),Sf(t,r,!1);break;case"textarea":qo(t),Af(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Dr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Dr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Us)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)vg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Kn(io.current),Kn(Ut.current),rs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ft]=e,(o=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:ns(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ns(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=e,e.stateNode=r}return $e(e),null;case 13:if(ae(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&ct!==null&&e.mode&1&&!(e.flags&128))Mm(),br(),e.flags|=98560,o=!1;else if(o=rs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(L(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Ft]=e}else br(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),o=!1}else Ct!==null&&(Lu(Ct),Ct=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ie===0&&(Ie=3):Bc())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return Qr(),Pu(t,e),t===null&&eo(e.stateNode.containerInfo),$e(e),null;case 10:return Ic(e.type._context),$e(e),null;case 17:return ot(e.type)&&zs(),$e(e),null;case 19:if(ae(fe),o=e.memoizedState,o===null)return $e(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)Ai(o,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Ws(t),l!==null){for(e.flags|=128,Ai(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ee()>Wr&&(e.flags|=128,r=!0,Ai(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ws(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ai(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ce)return $e(e),null}else 2*Ee()-o.renderingStartTime>Wr&&n!==1073741824&&(e.flags|=128,r=!0,Ai(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ee(),e.sibling=null,n=fe.current,ie(fe,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return zc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ut&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function z_(t,e){switch(Ec(e),e.tag){case 1:return ot(e.type)&&zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qr(),ae(it),ae(We),kc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rc(e),null;case 13:if(ae(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));br()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(fe),null;case 4:return Qr(),null;case 10:return Ic(e.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var ss=!1,Qe=!1,B_=typeof WeakSet=="function"?WeakSet:Set,$=null;function Nr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function Ru(t,e,n){try{n()}catch(r){ge(t,e,r)}}var pd=!1;function $_(t,e){if(hu=Ms,t=Sm(),vc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,f=0,m=0,g=t,T=null;t:for(;;){for(var R;g!==n||i!==0&&g.nodeType!==3||(u=l+i),g!==o||r!==0&&g.nodeType!==3||(c=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(R=g.firstChild)!==null;)T=g,g=R;for(;;){if(g===t)break t;if(T===n&&++f===i&&(u=l),T===o&&++m===r&&(c=l),(R=g.nextSibling)!==null)break;g=T,T=g.parentNode}g=R}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:t,selectionRange:n},Ms=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var V=x.memoizedProps,z=x.memoizedState,I=e.stateNode,v=I.getSnapshotBeforeUpdate(e.elementType===e.type?V:It(e.type,V),z);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(N){ge(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return x=pd,pd=!1,x}function Ui(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ru(e,n,o)}i=i.next}while(i!==r)}}function Cl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ku(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _g(t){var e=t.alternate;e!==null&&(t.alternate=null,_g(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[no],delete e[mu],delete e[I_],delete e[A_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Eg(t){return t.tag===5||t.tag===3||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Us));else if(r!==4&&(t=t.child,t!==null))for(xu(t,e,n),t=t.sibling;t!==null;)xu(t,e,n),t=t.sibling}function Nu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nu(t,e,n),t=t.sibling;t!==null;)Nu(t,e,n),t=t.sibling}var Ne=null,At=!1;function fn(t,e,n){for(n=n.child;n!==null;)wg(t,e,n),n=n.sibling}function wg(t,e,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 5:Qe||Nr(n,e);case 6:var r=Ne,i=At;Ne=null,fn(t,e,n),Ne=r,At=i,Ne!==null&&(At?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(At?(t=Ne,n=n.stateNode,t.nodeType===8?Pa(t.parentNode,n):t.nodeType===1&&Pa(t,n),Yi(t)):Pa(Ne,n.stateNode));break;case 4:r=Ne,i=At,Ne=n.stateNode.containerInfo,At=!0,fn(t,e,n),Ne=r,At=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ru(n,e,l),i=i.next}while(i!==r)}fn(t,e,n);break;case 1:if(!Qe&&(Nr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ge(n,e,u)}fn(t,e,n);break;case 21:fn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,fn(t,e,n),Qe=r):fn(t,e,n);break;default:fn(t,e,n)}}function gd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B_),e.forEach(function(r){var i=Y_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function St(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Ne=u.stateNode,At=!1;break e;case 3:Ne=u.stateNode.containerInfo,At=!0;break e;case 4:Ne=u.stateNode.containerInfo,At=!0;break e}u=u.return}if(Ne===null)throw Error(L(160));wg(o,l,i),Ne=null,At=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ge(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tg(e,t),e=e.sibling}function Tg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),Dt(t),r&4){try{Ui(3,t,t.return),Cl(3,t)}catch(V){ge(t,t.return,V)}try{Ui(5,t,t.return)}catch(V){ge(t,t.return,V)}}break;case 1:St(e,t),Dt(t),r&512&&n!==null&&Nr(n,n.return);break;case 5:if(St(e,t),Dt(t),r&512&&n!==null&&Nr(n,n.return),t.flags&32){var i=t.stateNode;try{Wi(i,"")}catch(V){ge(t,t.return,V)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Hp(i,o),tu(u,l);var f=tu(u,o);for(l=0;l<c.length;l+=2){var m=c[l],g=c[l+1];m==="style"?Kp(i,g):m==="dangerouslySetInnerHTML"?Wp(i,g):m==="children"?Wi(i,g):oc(i,m,g,f)}switch(u){case"input":Xa(i,o);break;case"textarea":Qp(i,o);break;case"select":var T=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?Dr(i,!!o.multiple,R,!1):T!==!!o.multiple&&(o.defaultValue!=null?Dr(i,!!o.multiple,o.defaultValue,!0):Dr(i,!!o.multiple,o.multiple?[]:"",!1))}i[no]=o}catch(V){ge(t,t.return,V)}}break;case 6:if(St(e,t),Dt(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(V){ge(t,t.return,V)}}break;case 3:if(St(e,t),Dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yi(e.containerInfo)}catch(V){ge(t,t.return,V)}break;case 4:St(e,t),Dt(t);break;case 13:St(e,t),Dt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(jc=Ee())),r&4&&gd(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(f=Qe)||m,St(e,t),Qe=f):St(e,t),Dt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for($=t,m=t.child;m!==null;){for(g=$=m;$!==null;){switch(T=$,R=T.child,T.tag){case 0:case 11:case 14:case 15:Ui(4,T,T.return);break;case 1:Nr(T,T.return);var x=T.stateNode;if(typeof x.componentWillUnmount=="function"){r=T,n=T.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(V){ge(r,n,V)}}break;case 5:Nr(T,T.return);break;case 22:if(T.memoizedState!==null){vd(g);continue}}R!==null?(R.return=T,$=R):vd(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=qp("display",l))}catch(V){ge(t,t.return,V)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(V){ge(t,t.return,V)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:St(e,t),Dt(t),r&4&&gd(t);break;case 21:break;default:St(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Eg(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wi(i,""),r.flags&=-33);var o=md(t);Nu(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=md(t);xu(t,u,l);break;default:throw Error(L(161))}}catch(c){ge(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b_(t,e,n){$=t,Sg(t)}function Sg(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||ss;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Qe;u=ss;var f=Qe;if(ss=l,(Qe=c)&&!f)for($=i;$!==null;)l=$,c=l.child,l.tag===22&&l.memoizedState!==null?_d(i):c!==null?(c.return=l,$=c):_d(i);for(;o!==null;)$=o,Sg(o),o=o.sibling;$=i,ss=u,Qe=f}yd(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$=o):yd(t)}}function yd(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||Cl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:It(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&td(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}td(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Yi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Qe||e.flags&512&&ku(e)}catch(T){ge(e,e.return,T)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function vd(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function _d(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cl(4,e)}catch(c){ge(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ge(e,i,c)}}var o=e.return;try{ku(e)}catch(c){ge(e,o,c)}break;case 5:var l=e.return;try{ku(e)}catch(c){ge(e,l,c)}}}catch(c){ge(e,e.return,c)}if(e===t){$=null;break}var u=e.sibling;if(u!==null){u.return=e.return,$=u;break}$=e.return}}var H_=Math.ceil,Xs=an.ReactCurrentDispatcher,Mc=an.ReactCurrentOwner,_t=an.ReactCurrentBatchConfig,Z=0,Re=null,Te=null,Le=0,ut=0,Vr=Fn(0),Ie=0,ao=null,ir=0,Pl=0,Fc=0,zi=null,nt=null,jc=0,Wr=1/0,Kt=null,Ys=!1,Vu=null,In=null,ls=!1,vn=null,Js=0,Bi=0,Du=null,Is=-1,As=0;function Ye(){return Z&6?Ee():Is!==-1?Is:Is=Ee()}function An(t){return t.mode&1?Z&2&&Le!==0?Le&-Le:P_.transition!==null?(As===0&&(As=lm()),As):(t=te,t!==0||(t=window.event,t=t===void 0?16:pm(t.type)),t):1}function Nt(t,e,n,r){if(50<Bi)throw Bi=0,Du=null,Error(L(185));_o(t,n,r),(!(Z&2)||t!==Re)&&(t===Re&&(!(Z&2)&&(Pl|=n),Ie===4&&gn(t,Le)),st(t,r),n===1&&Z===0&&!(e.mode&1)&&(Wr=Ee()+500,Sl&&jn()))}function st(t,e){var n=t.callbackNode;P0(t,e);var r=Ls(t,t===Re?Le:0);if(r===0)n!==null&&Rf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rf(n),e===1)t.tag===0?C_(Ed.bind(null,t)):Dm(Ed.bind(null,t)),T_(function(){!(Z&6)&&jn()}),n=null;else{switch(am(r)){case 1:n=cc;break;case 4:n=om;break;case 16:n=Os;break;case 536870912:n=sm;break;default:n=Os}n=Ng(n,Ig.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ig(t,e){if(Is=-1,As=0,Z&6)throw Error(L(327));var n=t.callbackNode;if(jr()&&t.callbackNode!==n)return null;var r=Ls(t,t===Re?Le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zs(t,r);else{e=r;var i=Z;Z|=2;var o=Cg();(Re!==t||Le!==e)&&(Kt=null,Wr=Ee()+500,Yn(t,e));do try{W_();break}catch(u){Ag(t,u)}while(!0);Sc(),Xs.current=o,Z=i,Te!==null?e=0:(Re=null,Le=0,e=Ie)}if(e!==0){if(e===2&&(i=su(t),i!==0&&(r=i,e=Ou(t,i))),e===1)throw n=ao,Yn(t,0),gn(t,r),st(t,Ee()),n;if(e===6)gn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Q_(i)&&(e=Zs(t,r),e===2&&(o=su(t),o!==0&&(r=o,e=Ou(t,o))),e===1))throw n=ao,Yn(t,0),gn(t,r),st(t,Ee()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Qn(t,nt,Kt);break;case 3:if(gn(t,r),(r&130023424)===r&&(e=jc+500-Ee(),10<e)){if(Ls(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pu(Qn.bind(null,t,nt,Kt),e);break}Qn(t,nt,Kt);break;case 4:if(gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-xt(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H_(r/1960))-r,10<r){t.timeoutHandle=pu(Qn.bind(null,t,nt,Kt),r);break}Qn(t,nt,Kt);break;case 5:Qn(t,nt,Kt);break;default:throw Error(L(329))}}}return st(t,Ee()),t.callbackNode===n?Ig.bind(null,t):null}function Ou(t,e){var n=zi;return t.current.memoizedState.isDehydrated&&(Yn(t,e).flags|=256),t=Zs(t,e),t!==2&&(e=nt,nt=n,e!==null&&Lu(e)),t}function Lu(t){nt===null?nt=t:nt.push.apply(nt,t)}function Q_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gn(t,e){for(e&=~Fc,e&=~Pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xt(e),r=1<<n;t[n]=-1,e&=~r}}function Ed(t){if(Z&6)throw Error(L(327));jr();var e=Ls(t,0);if(!(e&1))return st(t,Ee()),null;var n=Zs(t,e);if(t.tag!==0&&n===2){var r=su(t);r!==0&&(e=r,n=Ou(t,r))}if(n===1)throw n=ao,Yn(t,0),gn(t,e),st(t,Ee()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qn(t,nt,Kt),st(t,Ee()),null}function Uc(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(Wr=Ee()+500,Sl&&jn())}}function or(t){vn!==null&&vn.tag===0&&!(Z&6)&&jr();var e=Z;Z|=1;var n=_t.transition,r=te;try{if(_t.transition=null,te=1,t)return t()}finally{te=r,_t.transition=n,Z=e,!(Z&6)&&jn()}}function zc(){ut=Vr.current,ae(Vr)}function Yn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w_(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Ec(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zs();break;case 3:Qr(),ae(it),ae(We),kc();break;case 5:Rc(r);break;case 4:Qr();break;case 13:ae(fe);break;case 19:ae(fe);break;case 10:Ic(r.type._context);break;case 22:case 23:zc()}n=n.return}if(Re=t,Te=t=Cn(t.current,null),Le=ut=e,Ie=0,ao=null,Fc=Pl=ir=0,nt=zi=null,qn!==null){for(e=0;e<qn.length;e++)if(n=qn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}qn=null}return t}function Ag(t,e){do{var n=Te;try{if(Sc(),ws.current=Ks,qs){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qs=!1}if(rr=0,Ce=Se=de=null,ji=!1,oo=0,Mc.current=null,n===null||n.return===null){Ie=1,ao=e,Te=null;break}e:{var o=t,l=n.return,u=n,c=e;if(e=Le,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,m=u,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var T=m.alternate;T?(m.updateQueue=T.updateQueue,m.memoizedState=T.memoizedState,m.lanes=T.lanes):(m.updateQueue=null,m.memoizedState=null)}var R=ld(l);if(R!==null){R.flags&=-257,ad(R,l,u,o,e),R.mode&1&&sd(o,f,e),e=R,c=f;var x=e.updateQueue;if(x===null){var V=new Set;V.add(c),e.updateQueue=V}else x.add(c);break e}else{if(!(e&1)){sd(o,f,e),Bc();break e}c=Error(L(426))}}else if(ce&&u.mode&1){var z=ld(l);if(z!==null){!(z.flags&65536)&&(z.flags|=256),ad(z,l,u,o,e),wc(Gr(c,u));break e}}o=c=Gr(c,u),Ie!==4&&(Ie=2),zi===null?zi=[o]:zi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=ag(o,c,e);ed(o,I);break e;case 1:u=c;var v=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(In===null||!In.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=ug(o,u,e);ed(o,N);break e}}o=o.return}while(o!==null)}Rg(n)}catch(U){e=U,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function Cg(){var t=Xs.current;return Xs.current=Ks,t===null?Ks:t}function Bc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Re===null||!(ir&268435455)&&!(Pl&268435455)||gn(Re,Le)}function Zs(t,e){var n=Z;Z|=2;var r=Cg();(Re!==t||Le!==e)&&(Kt=null,Yn(t,e));do try{G_();break}catch(i){Ag(t,i)}while(!0);if(Sc(),Z=n,Xs.current=r,Te!==null)throw Error(L(261));return Re=null,Le=0,Ie}function G_(){for(;Te!==null;)Pg(Te)}function W_(){for(;Te!==null&&!v0();)Pg(Te)}function Pg(t){var e=xg(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?Rg(t):Te=e,Mc.current=null}function Rg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z_(n,e),n!==null){n.flags&=32767,Te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,Te=null;return}}else if(n=U_(n,e,ut),n!==null){Te=n;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Ie===0&&(Ie=5)}function Qn(t,e,n){var r=te,i=_t.transition;try{_t.transition=null,te=1,q_(t,e,n,r)}finally{_t.transition=i,te=r}return null}function q_(t,e,n,r){do jr();while(vn!==null);if(Z&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(R0(t,o),t===Re&&(Te=Re=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ls||(ls=!0,Ng(Os,function(){return jr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_t.transition,_t.transition=null;var l=te;te=1;var u=Z;Z|=4,Mc.current=null,$_(t,n),Tg(n,t),p_(fu),Ms=!!hu,fu=hu=null,t.current=n,b_(n),_0(),Z=u,te=l,_t.transition=o}else t.current=n;if(ls&&(ls=!1,vn=t,Js=i),o=t.pendingLanes,o===0&&(In=null),T0(n.stateNode),st(t,Ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ys)throw Ys=!1,t=Vu,Vu=null,t;return Js&1&&t.tag!==0&&jr(),o=t.pendingLanes,o&1?t===Du?Bi++:(Bi=0,Du=t):Bi=0,jn(),null}function jr(){if(vn!==null){var t=am(Js),e=_t.transition,n=te;try{if(_t.transition=null,te=16>t?16:t,vn===null)var r=!1;else{if(t=vn,vn=null,Js=0,Z&6)throw Error(L(331));var i=Z;for(Z|=4,$=t.current;$!==null;){var o=$,l=o.child;if($.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for($=f;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:Ui(8,m,o)}var g=m.child;if(g!==null)g.return=m,$=g;else for(;$!==null;){m=$;var T=m.sibling,R=m.return;if(_g(m),m===f){$=null;break}if(T!==null){T.return=R,$=T;break}$=R}}}var x=o.alternate;if(x!==null){var V=x.child;if(V!==null){x.child=null;do{var z=V.sibling;V.sibling=null,V=z}while(V!==null)}}$=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,$=l;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ui(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,$=I;break e}$=o.return}}var v=t.current;for($=v;$!==null;){l=$;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,$=S;else e:for(l=v;$!==null;){if(u=$,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Cl(9,u)}}catch(U){ge(u,u.return,U)}if(u===l){$=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,$=N;break e}$=u.return}}if(Z=i,jn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(vl,t)}catch{}r=!0}return r}finally{te=n,_t.transition=e}}return!1}function wd(t,e,n){e=Gr(n,e),e=ag(t,e,1),t=Sn(t,e,1),e=Ye(),t!==null&&(_o(t,1,e),st(t,e))}function ge(t,e,n){if(t.tag===3)wd(t,t,n);else for(;e!==null;){if(e.tag===3){wd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){t=Gr(n,t),t=ug(e,t,1),e=Sn(e,t,1),t=Ye(),e!==null&&(_o(e,1,t),st(e,t));break}}e=e.return}}function K_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Le&n)===n&&(Ie===4||Ie===3&&(Le&130023424)===Le&&500>Ee()-jc?Yn(t,0):Fc|=n),st(t,e)}function kg(t,e){e===0&&(t.mode&1?(e=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):e=1);var n=Ye();t=on(t,e),t!==null&&(_o(t,e,n),st(t,n))}function X_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kg(t,n)}function Y_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),kg(t,n)}var xg;xg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,j_(t,e,n);rt=!!(t.flags&131072)}else rt=!1,ce&&e.flags&1048576&&Om(e,bs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ss(t,e),t=e.pendingProps;var i=$r(e,We.current);Fr(e,n),i=Nc(null,e,r,t,i,n);var o=Vc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(r)?(o=!0,Bs(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cc(e),i.updater=Al,e.stateNode=i,i._reactInternals=e,wu(e,r,t,n),e=Iu(null,e,r,!0,o,n)):(e.tag=0,ce&&o&&_c(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ss(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Z_(r),t=It(r,t),i){case 0:e=Su(null,e,r,t,n);break e;case 1:e=hd(null,e,r,t,n);break e;case 11:e=ud(null,e,r,t,n);break e;case 14:e=cd(null,e,r,It(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),Su(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),hd(t,e,r,i,n);case 3:e:{if(dg(e),t===null)throw Error(L(387));r=e.pendingProps,o=e.memoizedState,i=o.element,zm(t,e),Gs(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Gr(Error(L(423)),e),e=fd(t,e,r,n,i);break e}else if(r!==i){i=Gr(Error(L(424)),e),e=fd(t,e,r,n,i);break e}else for(ct=Tn(e.stateNode.containerInfo.firstChild),ht=e,ce=!0,Ct=null,n=jm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===i){e=sn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return Bm(e),t===null&&vu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,du(r,i)?l=null:o!==null&&du(r,o)&&(e.flags|=32),fg(t,e),Xe(t,e,l,n),e.child;case 6:return t===null&&vu(e),null;case 13:return pg(t,e,n);case 4:return Pc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hr(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),ud(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,ie(Hs,r._currentValue),r._currentValue=l,o!==null)if(Vt(o.value,l)){if(o.children===i.children&&!it.current){e=sn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Zt(-1,n&-n),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?c.next=c:(c.next=m.next,m.next=c),f.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),_u(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(L(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),_u(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fr(e,n),i=Et(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=It(r,e.pendingProps),i=It(r.type,i),cd(t,e,r,i,n);case 15:return cg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),Ss(t,e),e.tag=1,ot(r)?(t=!0,Bs(e)):t=!1,Fr(e,n),lg(e,r,i),wu(e,r,i,n),Iu(null,e,r,!0,t,n);case 19:return mg(t,e,n);case 22:return hg(t,e,n)}throw Error(L(156,e.tag))};function Ng(t,e){return im(t,e)}function J_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,e,n,r){return new J_(t,e,n,r)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Z_(t){if(typeof t=="function")return $c(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lc)return 11;if(t===ac)return 14}return 2}function Cn(t,e){var n=t.alternate;return n===null?(n=vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cs(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")$c(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Tr:return Jn(n.children,i,o,e);case sc:l=8,i|=8;break;case Qa:return t=vt(12,n,e,i|2),t.elementType=Qa,t.lanes=o,t;case Ga:return t=vt(13,n,e,i),t.elementType=Ga,t.lanes=o,t;case Wa:return t=vt(19,n,e,i),t.elementType=Wa,t.lanes=o,t;case Bp:return Rl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Up:l=10;break e;case zp:l=9;break e;case lc:l=11;break e;case ac:l=14;break e;case dn:l=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=vt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Jn(t,e,n,r){return t=vt(7,t,r,e),t.lanes=n,t}function Rl(t,e,n,r){return t=vt(22,t,r,e),t.elementType=Bp,t.lanes=n,t.stateNode={isHidden:!1},t}function La(t,e,n){return t=vt(6,t,null,e),t.lanes=n,t}function Ma(t,e,n){return e=vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ga(0),this.expirationTimes=ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bc(t,e,n,r,i,o,l,u,c){return t=new e1(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(o),t}function t1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vg(t){if(!t)return Nn;t=t._reactInternals;e:{if(hr(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(ot(n))return Vm(t,n,e)}return e}function Dg(t,e,n,r,i,o,l,u,c){return t=bc(n,r,!0,t,i,o,l,u,c),t.context=Vg(null),n=t.current,r=Ye(),i=An(n),o=Zt(r,i),o.callback=e??null,Sn(n,o,i),t.current.lanes=i,_o(t,i,r),st(t,r),t}function kl(t,e,n,r){var i=e.current,o=Ye(),l=An(i);return n=Vg(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sn(i,e,l),t!==null&&(Nt(t,i,l,o),Es(t,i,l)),l}function el(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Td(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hc(t,e){Td(t,e),(t=t.alternate)&&Td(t,e)}function n1(){return null}var Og=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qc(t){this._internalRoot=t}xl.prototype.render=Qc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));kl(t,e,null,null)};xl.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;or(function(){kl(null,t,null,null)}),e[rn]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=hm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mn.length&&e!==0&&e<mn[n].priority;n++);mn.splice(n,0,t),n===0&&dm(t)}};function Gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sd(){}function r1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=el(l);o.call(f)}}var l=Dg(e,r,t,0,null,!1,!1,"",Sd);return t._reactRootContainer=l,t[rn]=l.current,eo(t.nodeType===8?t.parentNode:t),or(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=el(c);u.call(f)}}var c=bc(t,0,!1,null,null,!1,!1,"",Sd);return t._reactRootContainer=c,t[rn]=c.current,eo(t.nodeType===8?t.parentNode:t),or(function(){kl(e,c,n,r)}),c}function Vl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var u=i;i=function(){var c=el(l);u.call(c)}}kl(e,l,t,i)}else l=r1(n,e,t,i,r);return el(l)}um=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xi(e.pendingLanes);n!==0&&(hc(e,n|1),st(e,Ee()),!(Z&6)&&(Wr=Ee()+500,jn()))}break;case 13:or(function(){var r=on(t,1);if(r!==null){var i=Ye();Nt(r,t,1,i)}}),Hc(t,1)}};fc=function(t){if(t.tag===13){var e=on(t,134217728);if(e!==null){var n=Ye();Nt(e,t,134217728,n)}Hc(t,134217728)}};cm=function(t){if(t.tag===13){var e=An(t),n=on(t,e);if(n!==null){var r=Ye();Nt(n,t,e,r)}Hc(t,e)}};hm=function(){return te};fm=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};ru=function(t,e,n){switch(e){case"input":if(Xa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tl(r);if(!i)throw Error(L(90));bp(r),Xa(r,i)}}}break;case"textarea":Qp(t,n);break;case"select":e=n.value,e!=null&&Dr(t,!!n.multiple,e,!1)}};Jp=Uc;Zp=or;var i1={usingClientEntryPoint:!1,Events:[wo,Cr,Tl,Xp,Yp,Uc]},Ci={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o1={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nm(t),t===null?null:t.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||n1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{vl=as.inject(o1),jt=as}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(e))throw Error(L(200));return t1(t,e,null,n)};dt.createRoot=function(t,e){if(!Gc(t))throw Error(L(299));var n=!1,r="",i=Og;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bc(t,1,!1,null,null,n,!1,r,i),t[rn]=e.current,eo(t.nodeType===8?t.parentNode:t),new Qc(e)};dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=nm(e),t=t===null?null:t.stateNode,t};dt.flushSync=function(t){return or(t)};dt.hydrate=function(t,e,n){if(!Nl(e))throw Error(L(200));return Vl(null,t,e,!0,n)};dt.hydrateRoot=function(t,e,n){if(!Gc(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Og;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Dg(e,null,t,1,n??null,i,!1,o,l),t[rn]=e.current,eo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xl(e)};dt.render=function(t,e,n){if(!Nl(e))throw Error(L(200));return Vl(null,t,e,!1,n)};dt.unmountComponentAtNode=function(t){if(!Nl(t))throw Error(L(40));return t._reactRootContainer?(or(function(){Vl(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};dt.unstable_batchedUpdates=Uc;dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nl(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Vl(t,e,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Lg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lg)}catch(t){console.error(t)}}Lg(),Lp.exports=dt;var s1=Lp.exports,Mg,Id=s1;Mg=Id.createRoot,Id.hydrateRoot;const l1=()=>{};var Ad={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},a1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let T=(u&15)<<2|f>>6,R=f&63;c||(R=64,l||(T=64)),r.push(n[m],n[g],n[T],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||g==null)throw new u1;const T=o<<2|u>>4;if(r.push(T),f!==64){const R=u<<4&240|f>>2;if(r.push(R),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(t){const e=Fg(t);return jg.encodeByteArray(e,!0)},tl=function(t){return c1(t).replace(/\./g,"")},h1=function(t){try{return jg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=()=>f1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof Ad>"u")return;const t=Ad.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h1(t[1]);return e&&JSON.parse(e)},Wc=()=>{try{return l1()||d1()||p1()||m1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g1=t=>{var e,n;return(n=(e=Wc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},y1=t=>{const e=g1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ug=()=>{var t;return(t=Wc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tl(JSON.stringify(n)),tl(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w1(){var t;const e=(t=Wc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T1(){return!w1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A1,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zg.prototype.create)}}class zg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?C1(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ni(i,u,r)}}function C1(t,e){return t.replace(P1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P1=/\{\$([^}]+)}/g;function nl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Cd(o)&&Cd(l)){if(!nl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x1(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gn){return this.instances.has(e)}getOptions(e=Gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gn){return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k1(t){return t===Gn?void 0:t}function x1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Y||(Y={}));const V1={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},D1=Y.INFO,O1={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},L1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=O1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=D1,this._logHandler=L1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const M1=(t,e)=>e.some(n=>t instanceof n);let Pd,Rd;function F1(){return Pd||(Pd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return Rd||(Rd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $g=new WeakMap,Mu=new WeakMap,bg=new WeakMap,Fa=new WeakMap,qc=new WeakMap;function U1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Pn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&$g.set(n,t)}).catch(()=>{}),qc.set(e,t),e}function z1(t){if(Mu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Mu.set(t,e)}let Fu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B1(t){Fu=t(Fu)}function $1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ja(this),e,...n);return bg.set(r,e.sort?e.sort():[e]),Pn(r)}:j1().includes(t)?function(...e){return t.apply(ja(this),e),Pn($g.get(this))}:function(...e){return Pn(t.apply(ja(this),e))}}function b1(t){return typeof t=="function"?$1(t):(t instanceof IDBTransaction&&z1(t),M1(t,F1())?new Proxy(t,Fu):t)}function Pn(t){if(t instanceof IDBRequest)return U1(t);if(Fa.has(t))return Fa.get(t);const e=b1(t);return e!==t&&(Fa.set(t,e),qc.set(e,t)),e}const ja=t=>qc.get(t);function H1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=Pn(l);return r&&l.addEventListener("upgradeneeded",c=>{r(Pn(l.result),c.oldVersion,c.newVersion,Pn(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Q1=["get","getKey","getAll","getAllKeys","count"],G1=["put","add","delete","clear"],Ua=new Map;function kd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ua.get(e))return Ua.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q1.includes(n)))return;const o=async function(l,...u){const c=this.transaction(l,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Ua.set(e,o),o}B1(t=>({...t,get:(e,n,r)=>kd(e,n)||t.get(e,n,r),has:(e,n)=>!!kd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ju="@firebase/app",xd="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Bg("@firebase/app"),K1="@firebase/app-compat",X1="@firebase/analytics-compat",Y1="@firebase/analytics",J1="@firebase/app-check-compat",Z1="@firebase/app-check",eE="@firebase/auth",tE="@firebase/auth-compat",nE="@firebase/database",rE="@firebase/data-connect",iE="@firebase/database-compat",oE="@firebase/functions",sE="@firebase/functions-compat",lE="@firebase/installations",aE="@firebase/installations-compat",uE="@firebase/messaging",cE="@firebase/messaging-compat",hE="@firebase/performance",fE="@firebase/performance-compat",dE="@firebase/remote-config",pE="@firebase/remote-config-compat",mE="@firebase/storage",gE="@firebase/storage-compat",yE="@firebase/firestore",vE="@firebase/vertexai",_E="@firebase/firestore-compat",EE="firebase",wE="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="[DEFAULT]",TE={[ju]:"fire-core",[K1]:"fire-core-compat",[Y1]:"fire-analytics",[X1]:"fire-analytics-compat",[Z1]:"fire-app-check",[J1]:"fire-app-check-compat",[eE]:"fire-auth",[tE]:"fire-auth-compat",[nE]:"fire-rtdb",[rE]:"fire-data-connect",[iE]:"fire-rtdb-compat",[oE]:"fire-fn",[sE]:"fire-fn-compat",[lE]:"fire-iid",[aE]:"fire-iid-compat",[uE]:"fire-fcm",[cE]:"fire-fcm-compat",[hE]:"fire-perf",[fE]:"fire-perf-compat",[dE]:"fire-rc",[pE]:"fire-rc-compat",[mE]:"fire-gcs",[gE]:"fire-gcs-compat",[yE]:"fire-fst",[_E]:"fire-fst-compat",[vE]:"fire-vertex","fire-js":"fire-js",[EE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Map,SE=new Map,zu=new Map;function Nd(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(zu.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;zu.set(e,t);for(const n of rl.values())Nd(n,t);for(const n of SE.values())Nd(n,t);return!0}function IE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function AE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new zg("app","Firebase",CE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=wE;function Hg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Rn.create("bad-app-name",{appName:String(i)});if(n||(n=Ug()),!n)throw Rn.create("no-options");const o=rl.get(i);if(o){if(nl(n,o.options)&&nl(r,o.config))return o;throw Rn.create("duplicate-app",{appName:i})}const l=new N1(i);for(const c of zu.values())l.addComponent(c);const u=new PE(n,r,l);return rl.set(i,u),u}function kE(t=Uu){const e=rl.get(t);if(!e&&t===Uu&&Ug())return Hg();if(!e)throw Rn.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=TE[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(u.join(" "));return}il(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebase-heartbeat-database",NE=1,ho="firebase-heartbeat-store";let za=null;function Qg(){return za||(za=H1(xE,NE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ho)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rn.create("idb-open",{originalErrorMessage:t.message})})),za}async function VE(t){try{const n=(await Qg()).transaction(ho),r=await n.objectStore(ho).get(Gg(t));return await n.done,r}catch(e){if(e instanceof ni)ln.warn(e.message);else{const n=Rn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ln.warn(n.message)}}}async function Vd(t,e){try{const r=(await Qg()).transaction(ho,"readwrite");await r.objectStore(ho).put(e,Gg(t)),await r.done}catch(n){if(n instanceof ni)ln.warn(n.message);else{const r=Rn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ln.warn(r.message)}}}function Gg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=1024,OE=30;class LE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dd();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>OE){const l=jE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ln.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dd(),{heartbeatsToSend:r,unsentEntries:i}=ME(this._heartbeatsCache.heartbeats),o=tl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ln.warn(n),""}}}function Dd(){return new Date().toISOString().substring(0,10)}function ME(t,e=DE){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Od(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Od(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Od(t){return tl(JSON.stringify({version:2,heartbeats:t})).length}function jE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){il(new co("platform-logger",e=>new W1(e),"PRIVATE")),il(new co("heartbeat",e=>new LE(e),"PRIVATE")),Ur(ju,xd,t),Ur(ju,xd,"esm2017"),Ur("fire-js","")}UE("");var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kc;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,p){function y(){}y.prototype=p.prototype,_.D=p.prototype,_.prototype=new y,_.prototype.constructor=_,_.C=function(w,A,P){for(var E=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)E[mt-2]=arguments[mt];return p.prototype[A].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,p,y){y||(y=0);var w=Array(16);if(typeof p=="string")for(var A=0;16>A;++A)w[A]=p.charCodeAt(y++)|p.charCodeAt(y++)<<8|p.charCodeAt(y++)<<16|p.charCodeAt(y++)<<24;else for(A=0;16>A;++A)w[A]=p[y++]|p[y++]<<8|p[y++]<<16|p[y++]<<24;p=_.g[0],y=_.g[1],A=_.g[2];var P=_.g[3],E=p+(P^y&(A^P))+w[0]+3614090360&4294967295;p=y+(E<<7&4294967295|E>>>25),E=P+(A^p&(y^A))+w[1]+3905402710&4294967295,P=p+(E<<12&4294967295|E>>>20),E=A+(y^P&(p^y))+w[2]+606105819&4294967295,A=P+(E<<17&4294967295|E>>>15),E=y+(p^A&(P^p))+w[3]+3250441966&4294967295,y=A+(E<<22&4294967295|E>>>10),E=p+(P^y&(A^P))+w[4]+4118548399&4294967295,p=y+(E<<7&4294967295|E>>>25),E=P+(A^p&(y^A))+w[5]+1200080426&4294967295,P=p+(E<<12&4294967295|E>>>20),E=A+(y^P&(p^y))+w[6]+2821735955&4294967295,A=P+(E<<17&4294967295|E>>>15),E=y+(p^A&(P^p))+w[7]+4249261313&4294967295,y=A+(E<<22&4294967295|E>>>10),E=p+(P^y&(A^P))+w[8]+1770035416&4294967295,p=y+(E<<7&4294967295|E>>>25),E=P+(A^p&(y^A))+w[9]+2336552879&4294967295,P=p+(E<<12&4294967295|E>>>20),E=A+(y^P&(p^y))+w[10]+4294925233&4294967295,A=P+(E<<17&4294967295|E>>>15),E=y+(p^A&(P^p))+w[11]+2304563134&4294967295,y=A+(E<<22&4294967295|E>>>10),E=p+(P^y&(A^P))+w[12]+1804603682&4294967295,p=y+(E<<7&4294967295|E>>>25),E=P+(A^p&(y^A))+w[13]+4254626195&4294967295,P=p+(E<<12&4294967295|E>>>20),E=A+(y^P&(p^y))+w[14]+2792965006&4294967295,A=P+(E<<17&4294967295|E>>>15),E=y+(p^A&(P^p))+w[15]+1236535329&4294967295,y=A+(E<<22&4294967295|E>>>10),E=p+(A^P&(y^A))+w[1]+4129170786&4294967295,p=y+(E<<5&4294967295|E>>>27),E=P+(y^A&(p^y))+w[6]+3225465664&4294967295,P=p+(E<<9&4294967295|E>>>23),E=A+(p^y&(P^p))+w[11]+643717713&4294967295,A=P+(E<<14&4294967295|E>>>18),E=y+(P^p&(A^P))+w[0]+3921069994&4294967295,y=A+(E<<20&4294967295|E>>>12),E=p+(A^P&(y^A))+w[5]+3593408605&4294967295,p=y+(E<<5&4294967295|E>>>27),E=P+(y^A&(p^y))+w[10]+38016083&4294967295,P=p+(E<<9&4294967295|E>>>23),E=A+(p^y&(P^p))+w[15]+3634488961&4294967295,A=P+(E<<14&4294967295|E>>>18),E=y+(P^p&(A^P))+w[4]+3889429448&4294967295,y=A+(E<<20&4294967295|E>>>12),E=p+(A^P&(y^A))+w[9]+568446438&4294967295,p=y+(E<<5&4294967295|E>>>27),E=P+(y^A&(p^y))+w[14]+3275163606&4294967295,P=p+(E<<9&4294967295|E>>>23),E=A+(p^y&(P^p))+w[3]+4107603335&4294967295,A=P+(E<<14&4294967295|E>>>18),E=y+(P^p&(A^P))+w[8]+1163531501&4294967295,y=A+(E<<20&4294967295|E>>>12),E=p+(A^P&(y^A))+w[13]+2850285829&4294967295,p=y+(E<<5&4294967295|E>>>27),E=P+(y^A&(p^y))+w[2]+4243563512&4294967295,P=p+(E<<9&4294967295|E>>>23),E=A+(p^y&(P^p))+w[7]+1735328473&4294967295,A=P+(E<<14&4294967295|E>>>18),E=y+(P^p&(A^P))+w[12]+2368359562&4294967295,y=A+(E<<20&4294967295|E>>>12),E=p+(y^A^P)+w[5]+4294588738&4294967295,p=y+(E<<4&4294967295|E>>>28),E=P+(p^y^A)+w[8]+2272392833&4294967295,P=p+(E<<11&4294967295|E>>>21),E=A+(P^p^y)+w[11]+1839030562&4294967295,A=P+(E<<16&4294967295|E>>>16),E=y+(A^P^p)+w[14]+4259657740&4294967295,y=A+(E<<23&4294967295|E>>>9),E=p+(y^A^P)+w[1]+2763975236&4294967295,p=y+(E<<4&4294967295|E>>>28),E=P+(p^y^A)+w[4]+1272893353&4294967295,P=p+(E<<11&4294967295|E>>>21),E=A+(P^p^y)+w[7]+4139469664&4294967295,A=P+(E<<16&4294967295|E>>>16),E=y+(A^P^p)+w[10]+3200236656&4294967295,y=A+(E<<23&4294967295|E>>>9),E=p+(y^A^P)+w[13]+681279174&4294967295,p=y+(E<<4&4294967295|E>>>28),E=P+(p^y^A)+w[0]+3936430074&4294967295,P=p+(E<<11&4294967295|E>>>21),E=A+(P^p^y)+w[3]+3572445317&4294967295,A=P+(E<<16&4294967295|E>>>16),E=y+(A^P^p)+w[6]+76029189&4294967295,y=A+(E<<23&4294967295|E>>>9),E=p+(y^A^P)+w[9]+3654602809&4294967295,p=y+(E<<4&4294967295|E>>>28),E=P+(p^y^A)+w[12]+3873151461&4294967295,P=p+(E<<11&4294967295|E>>>21),E=A+(P^p^y)+w[15]+530742520&4294967295,A=P+(E<<16&4294967295|E>>>16),E=y+(A^P^p)+w[2]+3299628645&4294967295,y=A+(E<<23&4294967295|E>>>9),E=p+(A^(y|~P))+w[0]+4096336452&4294967295,p=y+(E<<6&4294967295|E>>>26),E=P+(y^(p|~A))+w[7]+1126891415&4294967295,P=p+(E<<10&4294967295|E>>>22),E=A+(p^(P|~y))+w[14]+2878612391&4294967295,A=P+(E<<15&4294967295|E>>>17),E=y+(P^(A|~p))+w[5]+4237533241&4294967295,y=A+(E<<21&4294967295|E>>>11),E=p+(A^(y|~P))+w[12]+1700485571&4294967295,p=y+(E<<6&4294967295|E>>>26),E=P+(y^(p|~A))+w[3]+2399980690&4294967295,P=p+(E<<10&4294967295|E>>>22),E=A+(p^(P|~y))+w[10]+4293915773&4294967295,A=P+(E<<15&4294967295|E>>>17),E=y+(P^(A|~p))+w[1]+2240044497&4294967295,y=A+(E<<21&4294967295|E>>>11),E=p+(A^(y|~P))+w[8]+1873313359&4294967295,p=y+(E<<6&4294967295|E>>>26),E=P+(y^(p|~A))+w[15]+4264355552&4294967295,P=p+(E<<10&4294967295|E>>>22),E=A+(p^(P|~y))+w[6]+2734768916&4294967295,A=P+(E<<15&4294967295|E>>>17),E=y+(P^(A|~p))+w[13]+1309151649&4294967295,y=A+(E<<21&4294967295|E>>>11),E=p+(A^(y|~P))+w[4]+4149444226&4294967295,p=y+(E<<6&4294967295|E>>>26),E=P+(y^(p|~A))+w[11]+3174756917&4294967295,P=p+(E<<10&4294967295|E>>>22),E=A+(p^(P|~y))+w[2]+718787259&4294967295,A=P+(E<<15&4294967295|E>>>17),E=y+(P^(A|~p))+w[9]+3951481745&4294967295,_.g[0]=_.g[0]+p&4294967295,_.g[1]=_.g[1]+(A+(E<<21&4294967295|E>>>11))&4294967295,_.g[2]=_.g[2]+A&4294967295,_.g[3]=_.g[3]+P&4294967295}r.prototype.u=function(_,p){p===void 0&&(p=_.length);for(var y=p-this.blockSize,w=this.B,A=this.h,P=0;P<p;){if(A==0)for(;P<=y;)i(this,_,P),P+=this.blockSize;if(typeof _=="string"){for(;P<p;)if(w[A++]=_.charCodeAt(P++),A==this.blockSize){i(this,w),A=0;break}}else for(;P<p;)if(w[A++]=_[P++],A==this.blockSize){i(this,w),A=0;break}}this.h=A,this.o+=p},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var p=1;p<_.length-8;++p)_[p]=0;var y=8*this.o;for(p=_.length-8;p<_.length;++p)_[p]=y&255,y/=256;for(this.u(_),_=Array(16),p=y=0;4>p;++p)for(var w=0;32>w;w+=8)_[y++]=this.g[p]>>>w&255;return _};function o(_,p){var y=u;return Object.prototype.hasOwnProperty.call(y,_)?y[_]:y[_]=p(_)}function l(_,p){this.h=p;for(var y=[],w=!0,A=_.length-1;0<=A;A--){var P=_[A]|0;w&&P==p||(y[A]=P,w=!1)}this.g=y}var u={};function c(_){return-128<=_&&128>_?o(_,function(p){return new l([p|0],0>p?-1:0)}):new l([_|0],0>_?-1:0)}function f(_){if(isNaN(_)||!isFinite(_))return g;if(0>_)return z(f(-_));for(var p=[],y=1,w=0;_>=y;w++)p[w]=_/y|0,y*=4294967296;return new l(p,0)}function m(_,p){if(_.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(_.charAt(0)=="-")return z(m(_.substring(1),p));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=f(Math.pow(p,8)),w=g,A=0;A<_.length;A+=8){var P=Math.min(8,_.length-A),E=parseInt(_.substring(A,A+P),p);8>P?(P=f(Math.pow(p,P)),w=w.j(P).add(f(E))):(w=w.j(y),w=w.add(f(E)))}return w}var g=c(0),T=c(1),R=c(16777216);t=l.prototype,t.m=function(){if(V(this))return-z(this).m();for(var _=0,p=1,y=0;y<this.g.length;y++){var w=this.i(y);_+=(0<=w?w:4294967296+w)*p,p*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(x(this))return"0";if(V(this))return"-"+z(this).toString(_);for(var p=f(Math.pow(_,6)),y=this,w="";;){var A=N(y,p).g;y=I(y,A.j(p));var P=((0<y.g.length?y.g[0]:y.h)>>>0).toString(_);if(y=A,x(y))return P+w;for(;6>P.length;)P="0"+P;w=P+w}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function x(_){if(_.h!=0)return!1;for(var p=0;p<_.g.length;p++)if(_.g[p]!=0)return!1;return!0}function V(_){return _.h==-1}t.l=function(_){return _=I(this,_),V(_)?-1:x(_)?0:1};function z(_){for(var p=_.g.length,y=[],w=0;w<p;w++)y[w]=~_.g[w];return new l(y,~_.h).add(T)}t.abs=function(){return V(this)?z(this):this},t.add=function(_){for(var p=Math.max(this.g.length,_.g.length),y=[],w=0,A=0;A<=p;A++){var P=w+(this.i(A)&65535)+(_.i(A)&65535),E=(P>>>16)+(this.i(A)>>>16)+(_.i(A)>>>16);w=E>>>16,P&=65535,E&=65535,y[A]=E<<16|P}return new l(y,y[y.length-1]&-2147483648?-1:0)};function I(_,p){return _.add(z(p))}t.j=function(_){if(x(this)||x(_))return g;if(V(this))return V(_)?z(this).j(z(_)):z(z(this).j(_));if(V(_))return z(this.j(z(_)));if(0>this.l(R)&&0>_.l(R))return f(this.m()*_.m());for(var p=this.g.length+_.g.length,y=[],w=0;w<2*p;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var A=0;A<_.g.length;A++){var P=this.i(w)>>>16,E=this.i(w)&65535,mt=_.i(A)>>>16,Un=_.i(A)&65535;y[2*w+2*A]+=E*Un,v(y,2*w+2*A),y[2*w+2*A+1]+=P*Un,v(y,2*w+2*A+1),y[2*w+2*A+1]+=E*mt,v(y,2*w+2*A+1),y[2*w+2*A+2]+=P*mt,v(y,2*w+2*A+2)}for(w=0;w<p;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=p;w<2*p;w++)y[w]=0;return new l(y,0)};function v(_,p){for(;(_[p]&65535)!=_[p];)_[p+1]+=_[p]>>>16,_[p]&=65535,p++}function S(_,p){this.g=_,this.h=p}function N(_,p){if(x(p))throw Error("division by zero");if(x(_))return new S(g,g);if(V(_))return p=N(z(_),p),new S(z(p.g),z(p.h));if(V(p))return p=N(_,z(p)),new S(z(p.g),p.h);if(30<_.g.length){if(V(_)||V(p))throw Error("slowDivide_ only works with positive integers.");for(var y=T,w=p;0>=w.l(_);)y=U(y),w=U(w);var A=F(y,1),P=F(w,1);for(w=F(w,2),y=F(y,2);!x(w);){var E=P.add(w);0>=E.l(_)&&(A=A.add(y),P=E),w=F(w,1),y=F(y,1)}return p=I(_,A.j(p)),new S(A,p)}for(A=g;0<=_.l(p);){for(y=Math.max(1,Math.floor(_.m()/p.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),P=f(y),E=P.j(p);V(E)||0<E.l(_);)y-=w,P=f(y),E=P.j(p);x(P)&&(P=T),A=A.add(P),_=I(_,E)}return new S(A,_)}t.A=function(_){return N(this,_).h},t.and=function(_){for(var p=Math.max(this.g.length,_.g.length),y=[],w=0;w<p;w++)y[w]=this.i(w)&_.i(w);return new l(y,this.h&_.h)},t.or=function(_){for(var p=Math.max(this.g.length,_.g.length),y=[],w=0;w<p;w++)y[w]=this.i(w)|_.i(w);return new l(y,this.h|_.h)},t.xor=function(_){for(var p=Math.max(this.g.length,_.g.length),y=[],w=0;w<p;w++)y[w]=this.i(w)^_.i(w);return new l(y,this.h^_.h)};function U(_){for(var p=_.g.length+1,y=[],w=0;w<p;w++)y[w]=_.i(w)<<1|_.i(w-1)>>>31;return new l(y,_.h)}function F(_,p){var y=p>>5;p%=32;for(var w=_.g.length-y,A=[],P=0;P<w;P++)A[P]=0<p?_.i(P+y)>>>p|_.i(P+y+1)<<32-p:_.i(P+y);return new l(A,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Kc=l}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});var us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wg,Vi,qg,Ps,Bu,Kg,Xg,Yg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,a,h){return s==Array.prototype||s==Object.prototype||(s[a]=h.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof us=="object"&&us];for(var a=0;a<s.length;++a){var h=s[a];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(s,a){if(a)e:{var h=r;s=s.split(".");for(var d=0;d<s.length-1;d++){var C=s[d];if(!(C in h))break e;h=h[C]}s=s[s.length-1],d=h[s],a=a(d),a!=d&&a!=null&&e(h,s,{configurable:!0,writable:!0,value:a})}}function o(s,a){s instanceof String&&(s+="");var h=0,d=!1,C={next:function(){if(!d&&h<s.length){var k=h++;return{value:a(k,s[k]),done:!1}}return d=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(s){return s||function(){return o(this,function(a,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function c(s){var a=typeof s;return a=a!="object"?a:s?Array.isArray(s)?"array":a:"null",a=="array"||a=="object"&&typeof s.length=="number"}function f(s){var a=typeof s;return a=="object"&&s!=null||a=="function"}function m(s,a,h){return s.call.apply(s.bind,arguments)}function g(s,a,h){if(!s)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,d),s.apply(a,C)}}return function(){return s.apply(a,arguments)}}function T(s,a,h){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,T.apply(null,arguments)}function R(s,a){var h=Array.prototype.slice.call(arguments,1);return function(){var d=h.slice();return d.push.apply(d,arguments),s.apply(this,d)}}function x(s,a){function h(){}h.prototype=a.prototype,s.aa=a.prototype,s.prototype=new h,s.prototype.constructor=s,s.Qb=function(d,C,k){for(var j=Array(arguments.length-2),re=2;re<arguments.length;re++)j[re-2]=arguments[re];return a.prototype[C].apply(d,j)}}function V(s){const a=s.length;if(0<a){const h=Array(a);for(let d=0;d<a;d++)h[d]=s[d];return h}return[]}function z(s,a){for(let h=1;h<arguments.length;h++){const d=arguments[h];if(c(d)){const C=s.length||0,k=d.length||0;s.length=C+k;for(let j=0;j<k;j++)s[C+j]=d[j]}else s.push(d)}}class I{constructor(a,h){this.i=a,this.j=h,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function v(s){return/^[\s\xa0]*$/.test(s)}function S(){var s=u.navigator;return s&&(s=s.userAgent)?s:""}function N(s){return N[" "](s),s}N[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function F(s,a,h){for(const d in s)a.call(h,s[d],d,s)}function _(s,a){for(const h in s)a.call(void 0,s[h],h,s)}function p(s){const a={};for(const h in s)a[h]=s[h];return a}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(s,a){let h,d;for(let C=1;C<arguments.length;C++){d=arguments[C];for(h in d)s[h]=d[h];for(let k=0;k<y.length;k++)h=y[k],Object.prototype.hasOwnProperty.call(d,h)&&(s[h]=d[h])}}function A(s){var a=1;s=s.split(":");const h=[];for(;0<a&&s.length;)h.push(s.shift()),a--;return s.length&&h.push(s.join(":")),h}function P(s){u.setTimeout(()=>{throw s},0)}function E(){var s=Q;let a=null;return s.g&&(a=s.g,s.g=s.g.next,s.g||(s.h=null),a.next=null),a}class mt{constructor(){this.h=this.g=null}add(a,h){const d=Un.get();d.set(a,h),this.h?this.h.next=d:this.g=d,this.h=d}}var Un=new I(()=>new oi,s=>s.reset());class oi{constructor(){this.next=this.g=this.h=null}set(a,h){this.h=a,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,B=!1,Q=new mt,G=()=>{const s=u.Promise.resolve(void 0);$t=()=>{s.then(he)}};var he=()=>{for(var s;s=E();){try{s.h.call(s.g)}catch(h){P(h)}var a=Un;a.j(s),100>a.h&&(a.h++,s.next=a.g,a.g=s)}B=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(s,a){this.type=s,this.g=this.target=a,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var s=!1,a=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const h=()=>{};u.addEventListener("test",h,a),u.removeEventListener("test",h,a)}catch{}return s}();function Ht(s,a){if(_e.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var h=this.type=s.type,d=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=a,a=s.relatedTarget){if(U){e:{try{N(a.nodeName);var C=!0;break e}catch{}C=!1}C||(a=null)}}else h=="mouseover"?a=s.fromElement:h=="mouseout"&&(a=s.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Qt[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ht.aa.h.call(this)}}x(Ht,_e);var Qt={2:"touch",3:"pen",4:"mouse"};Ht.prototype.h=function(){Ht.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),iv=0;function ov(s,a,h,d,C){this.listener=s,this.proxy=null,this.src=a,this.type=h,this.capture=!!d,this.ha=C,this.key=++iv,this.da=this.fa=!1}function Ro(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function ko(s){this.src=s,this.g={},this.h=0}ko.prototype.add=function(s,a,h,d,C){var k=s.toString();s=this.g[k],s||(s=this.g[k]=[],this.h++);var j=bl(s,a,d,C);return-1<j?(a=s[j],h||(a.fa=!1)):(a=new ov(a,this.src,k,!!d,C),a.fa=h,s.push(a)),a};function $l(s,a){var h=a.type;if(h in s.g){var d=s.g[h],C=Array.prototype.indexOf.call(d,a,void 0),k;(k=0<=C)&&Array.prototype.splice.call(d,C,1),k&&(Ro(a),s.g[h].length==0&&(delete s.g[h],s.h--))}}function bl(s,a,h,d){for(var C=0;C<s.length;++C){var k=s[C];if(!k.da&&k.listener==a&&k.capture==!!h&&k.ha==d)return C}return-1}var Hl="closure_lm_"+(1e6*Math.random()|0),Ql={};function gh(s,a,h,d,C){if(Array.isArray(a)){for(var k=0;k<a.length;k++)gh(s,a[k],h,d,C);return null}return h=_h(h),s&&s[Gt]?s.K(a,h,f(d)?!!d.capture:!!d,C):sv(s,a,h,!1,d,C)}function sv(s,a,h,d,C,k){if(!a)throw Error("Invalid event type");var j=f(C)?!!C.capture:!!C,re=Wl(s);if(re||(s[Hl]=re=new ko(s)),h=re.add(a,h,d,j,k),h.proxy)return h;if(d=lv(),h.proxy=d,d.src=s,d.listener=h,s.addEventListener)bt||(C=j),C===void 0&&(C=!1),s.addEventListener(a.toString(),d,C);else if(s.attachEvent)s.attachEvent(vh(a.toString()),d);else if(s.addListener&&s.removeListener)s.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return h}function lv(){function s(h){return a.call(s.src,s.listener,h)}const a=av;return s}function yh(s,a,h,d,C){if(Array.isArray(a))for(var k=0;k<a.length;k++)yh(s,a[k],h,d,C);else d=f(d)?!!d.capture:!!d,h=_h(h),s&&s[Gt]?(s=s.i,a=String(a).toString(),a in s.g&&(k=s.g[a],h=bl(k,h,d,C),-1<h&&(Ro(k[h]),Array.prototype.splice.call(k,h,1),k.length==0&&(delete s.g[a],s.h--)))):s&&(s=Wl(s))&&(a=s.g[a.toString()],s=-1,a&&(s=bl(a,h,d,C)),(h=-1<s?a[s]:null)&&Gl(h))}function Gl(s){if(typeof s!="number"&&s&&!s.da){var a=s.src;if(a&&a[Gt])$l(a.i,s);else{var h=s.type,d=s.proxy;a.removeEventListener?a.removeEventListener(h,d,s.capture):a.detachEvent?a.detachEvent(vh(h),d):a.addListener&&a.removeListener&&a.removeListener(d),(h=Wl(a))?($l(h,s),h.h==0&&(h.src=null,a[Hl]=null)):Ro(s)}}}function vh(s){return s in Ql?Ql[s]:Ql[s]="on"+s}function av(s,a){if(s.da)s=!0;else{a=new Ht(a,this);var h=s.listener,d=s.ha||s.src;s.fa&&Gl(s),s=h.call(d,a)}return s}function Wl(s){return s=s[Hl],s instanceof ko?s:null}var ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function _h(s){return typeof s=="function"?s:(s[ql]||(s[ql]=function(a){return s.handleEvent(a)}),s[ql])}function je(){ne.call(this),this.i=new ko(this),this.M=this,this.F=null}x(je,ne),je.prototype[Gt]=!0,je.prototype.removeEventListener=function(s,a,h,d){yh(this,s,a,h,d)};function qe(s,a){var h,d=s.F;if(d)for(h=[];d;d=d.F)h.push(d);if(s=s.M,d=a.type||a,typeof a=="string")a=new _e(a,s);else if(a instanceof _e)a.target=a.target||s;else{var C=a;a=new _e(d,s),w(a,C)}if(C=!0,h)for(var k=h.length-1;0<=k;k--){var j=a.g=h[k];C=xo(j,d,!0,a)&&C}if(j=a.g=s,C=xo(j,d,!0,a)&&C,C=xo(j,d,!1,a)&&C,h)for(k=0;k<h.length;k++)j=a.g=h[k],C=xo(j,d,!1,a)&&C}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var s=this.i,a;for(a in s.g){for(var h=s.g[a],d=0;d<h.length;d++)Ro(h[d]);delete s.g[a],s.h--}}this.F=null},je.prototype.K=function(s,a,h,d){return this.i.add(String(s),a,!1,h,d)},je.prototype.L=function(s,a,h,d){return this.i.add(String(s),a,!0,h,d)};function xo(s,a,h,d){if(a=s.i.g[String(a)],!a)return!0;a=a.concat();for(var C=!0,k=0;k<a.length;++k){var j=a[k];if(j&&!j.da&&j.capture==h){var re=j.listener,xe=j.ha||j.src;j.fa&&$l(s.i,j),C=re.call(xe,d)!==!1&&C}}return C&&!d.defaultPrevented}function Eh(s,a,h){if(typeof s=="function")h&&(s=T(s,h));else if(s&&typeof s.handleEvent=="function")s=T(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:u.setTimeout(s,a||0)}function wh(s){s.g=Eh(()=>{s.g=null,s.i&&(s.i=!1,wh(s))},s.l);const a=s.h;s.h=null,s.m.apply(null,a)}class uv extends ne{constructor(a,h){super(),this.m=a,this.l=h,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:wh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(s){ne.call(this),this.h=s,this.g={}}x(si,ne);var Th=[];function Sh(s){F(s.g,function(a,h){this.g.hasOwnProperty(h)&&Gl(a)},s),s.g={}}si.prototype.N=function(){si.aa.N.call(this),Sh(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kl=u.JSON.stringify,cv=u.JSON.parse,hv=class{stringify(s){return u.JSON.stringify(s,void 0)}parse(s){return u.JSON.parse(s,void 0)}};function Xl(){}Xl.prototype.h=null;function Ih(s){return s.h||(s.h=s.i())}function Ah(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yl(){_e.call(this,"d")}x(Yl,_e);function Jl(){_e.call(this,"c")}x(Jl,_e);var zn={},Ch=null;function No(){return Ch=Ch||new je}zn.La="serverreachability";function Ph(s){_e.call(this,zn.La,s)}x(Ph,_e);function ai(s){const a=No();qe(a,new Ph(a))}zn.STAT_EVENT="statevent";function Rh(s,a){_e.call(this,zn.STAT_EVENT,s),this.stat=a}x(Rh,_e);function Ke(s){const a=No();qe(a,new Rh(a,s))}zn.Ma="timingevent";function kh(s,a){_e.call(this,zn.Ma,s),this.size=a}x(kh,_e);function ui(s,a){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){s()},a)}function ci(){this.g=!0}ci.prototype.xa=function(){this.g=!1};function fv(s,a,h,d,C,k){s.info(function(){if(s.g)if(k)for(var j="",re=k.split("&"),xe=0;xe<re.length;xe++){var ee=re[xe].split("=");if(1<ee.length){var Ue=ee[0];ee=ee[1];var ze=Ue.split("_");j=2<=ze.length&&ze[1]=="type"?j+(Ue+"="+ee+"&"):j+(Ue+"=redacted&")}}else j=null;else j=k;return"XMLHTTP REQ ("+d+") [attempt "+C+"]: "+a+`
`+h+`
`+j})}function dv(s,a,h,d,C,k,j){s.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+C+"]: "+a+`
`+h+`
`+k+" "+j})}function pr(s,a,h,d){s.info(function(){return"XMLHTTP TEXT ("+a+"): "+mv(s,h)+(d?" "+d:"")})}function pv(s,a){s.info(function(){return"TIMEOUT: "+a})}ci.prototype.info=function(){};function mv(s,a){if(!s.g)return a;if(!a)return null;try{var h=JSON.parse(a);if(h){for(s=0;s<h.length;s++)if(Array.isArray(h[s])){var d=h[s];if(!(2>d.length)){var C=d[1];if(Array.isArray(C)&&!(1>C.length)){var k=C[0];if(k!="noop"&&k!="stop"&&k!="close")for(var j=1;j<C.length;j++)C[j]=""}}}}return Kl(h)}catch{return a}}var Vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zl;function Do(){}x(Do,Xl),Do.prototype.g=function(){return new XMLHttpRequest},Do.prototype.i=function(){return{}},Zl=new Do;function un(s,a,h,d){this.j=s,this.i=a,this.l=h,this.R=d||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nh}function Nh(){this.i=null,this.g="",this.h=!1}var Vh={},ea={};function ta(s,a,h){s.L=1,s.v=Fo(Wt(a)),s.m=h,s.P=!0,Dh(s,null)}function Dh(s,a){s.F=Date.now(),Oo(s),s.A=Wt(s.v);var h=s.A,d=s.R;Array.isArray(d)||(d=[String(d)]),Wh(h.i,"t",d),s.C=0,h=s.j.J,s.h=new Nh,s.g=ff(s.j,h?a:null,!s.m),0<s.O&&(s.M=new uv(T(s.Y,s,s.g),s.O)),a=s.U,h=s.g,d=s.ca;var C="readystatechange";Array.isArray(C)||(C&&(Th[0]=C.toString()),C=Th);for(var k=0;k<C.length;k++){var j=gh(h,C[k],d||a.handleEvent,!1,a.h||a);if(!j)break;a.g[j.key]=j}a=s.H?p(s.H):{},s.m?(s.u||(s.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,a)):(s.u="GET",s.g.ea(s.A,s.u,null,a)),ai(),fv(s.i,s.u,s.A,s.l,s.R,s.m)}un.prototype.ca=function(s){s=s.target;const a=this.M;a&&qt(s)==3?a.j():this.Y(s)},un.prototype.Y=function(s){try{if(s==this.g)e:{const ze=qt(this.g);var a=this.g.Ba();const yr=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||ef(this.g)))){this.J||ze!=4||a==7||(a==8||0>=yr?ai(3):ai(2)),na(this);var h=this.g.Z();this.X=h;t:if(Oh(this)){var d=ef(this.g);s="";var C=d.length,k=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),hi(this);var j="";break t}this.h.i=new u.TextDecoder}for(a=0;a<C;a++)this.h.h=!0,s+=this.h.i.decode(d[a],{stream:!(k&&a==C-1)});d.length=0,this.h.g+=s,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=h==200,dv(this.i,this.u,this.A,this.l,this.R,ze,h),this.o){if(this.T&&!this.K){t:{if(this.g){var re,xe=this.g;if((re=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(re)){var ee=re;break t}}ee=null}if(h=ee)pr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,h);else{this.o=!1,this.s=3,Ke(12),Bn(this),hi(this);break e}}if(this.P){h=!0;let Tt;for(;!this.J&&this.C<j.length;)if(Tt=gv(this,j),Tt==ea){ze==4&&(this.s=4,Ke(14),h=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Vh){this.s=4,Ke(15),pr(this.i,this.l,j,"[Invalid Chunk]"),h=!1;break}else pr(this.i,this.l,Tt,null),ra(this,Tt);if(Oh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||j.length!=0||this.h.h||(this.s=1,Ke(16),h=!1),this.o=this.o&&h,!h)pr(this.i,this.l,j,"[Invalid Chunked Response]"),Bn(this),hi(this);else if(0<j.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),ua(Ue),Ue.M=!0,Ke(11))}}else pr(this.i,this.l,j,null),ra(this,j);ze==4&&Bn(this),this.o&&!this.J&&(ze==4?af(this.j,this):(this.o=!1,Oo(this)))}else Dv(this.g),h==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),Bn(this),hi(this)}}}catch{}finally{}};function Oh(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function gv(s,a){var h=s.C,d=a.indexOf(`
`,h);return d==-1?ea:(h=Number(a.substring(h,d)),isNaN(h)?Vh:(d+=1,d+h>a.length?ea:(a=a.slice(d,d+h),s.C=d+h,a)))}un.prototype.cancel=function(){this.J=!0,Bn(this)};function Oo(s){s.S=Date.now()+s.I,Lh(s,s.I)}function Lh(s,a){if(s.B!=null)throw Error("WatchDog timer not null");s.B=ui(T(s.ba,s),a)}function na(s){s.B&&(u.clearTimeout(s.B),s.B=null)}un.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(pv(this.i,this.A),this.L!=2&&(ai(),Ke(17)),Bn(this),this.s=2,hi(this)):Lh(this,this.S-s)};function hi(s){s.j.G==0||s.J||af(s.j,s)}function Bn(s){na(s);var a=s.M;a&&typeof a.ma=="function"&&a.ma(),s.M=null,Sh(s.U),s.g&&(a=s.g,s.g=null,a.abort(),a.ma())}function ra(s,a){try{var h=s.j;if(h.G!=0&&(h.g==s||ia(h.h,s))){if(!s.K&&ia(h.h,s)&&h.G==3){try{var d=h.Da.g.parse(a)}catch{d=null}if(Array.isArray(d)&&d.length==3){var C=d;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<s.F)bo(h),Bo(h);else break e;aa(h),Ke(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=ui(T(h.Za,h),6e3));if(1>=jh(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else bn(h,11)}else if((s.K||h.g==s)&&bo(h),!v(a))for(C=h.Da.g.parse(a),a=0;a<C.length;a++){let ee=C[a];if(h.T=ee[0],ee=ee[1],h.G==2)if(ee[0]=="c"){h.K=ee[1],h.ia=ee[2];const Ue=ee[3];Ue!=null&&(h.la=Ue,h.j.info("VER="+h.la));const ze=ee[4];ze!=null&&(h.Aa=ze,h.j.info("SVER="+h.Aa));const yr=ee[5];yr!=null&&typeof yr=="number"&&0<yr&&(d=1.5*yr,h.L=d,h.j.info("backChannelRequestTimeoutMs_="+d)),d=h;const Tt=s.g;if(Tt){const Qo=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qo){var k=d.h;k.g||Qo.indexOf("spdy")==-1&&Qo.indexOf("quic")==-1&&Qo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(oa(k,k.h),k.h=null))}if(d.D){const ca=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(d.ya=ca,se(d.I,d.D,ca))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-s.F,h.j.info("Handshake RTT: "+h.R+"ms")),d=h;var j=s;if(d.qa=hf(d,d.J?d.ia:null,d.W),j.K){Uh(d.h,j);var re=j,xe=d.L;xe&&(re.I=xe),re.B&&(na(re),Oo(re)),d.g=j}else sf(d);0<h.i.length&&$o(h)}else ee[0]!="stop"&&ee[0]!="close"||bn(h,7);else h.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?bn(h,7):la(h):ee[0]!="noop"&&h.l&&h.l.ta(ee),h.v=0)}}ai(4)}catch{}}var yv=class{constructor(s,a){this.g=s,this.map=a}};function Mh(s){this.l=s||10,u.PerformanceNavigationTiming?(s=u.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fh(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function jh(s){return s.h?1:s.g?s.g.size:0}function ia(s,a){return s.h?s.h==a:s.g?s.g.has(a):!1}function oa(s,a){s.g?s.g.add(a):s.h=a}function Uh(s,a){s.h&&s.h==a?s.h=null:s.g&&s.g.has(a)&&s.g.delete(a)}Mh.prototype.cancel=function(){if(this.i=zh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function zh(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let a=s.i;for(const h of s.g.values())a=a.concat(h.D);return a}return V(s.i)}function vv(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(c(s)){for(var a=[],h=s.length,d=0;d<h;d++)a.push(s[d]);return a}a=[],h=0;for(d in s)a[h++]=s[d];return a}function _v(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(c(s)||typeof s=="string"){var a=[];s=s.length;for(var h=0;h<s;h++)a.push(h);return a}a=[],h=0;for(const d in s)a[h++]=d;return a}}}function Bh(s,a){if(s.forEach&&typeof s.forEach=="function")s.forEach(a,void 0);else if(c(s)||typeof s=="string")Array.prototype.forEach.call(s,a,void 0);else for(var h=_v(s),d=vv(s),C=d.length,k=0;k<C;k++)a.call(void 0,d[k],h&&h[k],s)}var $h=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ev(s,a){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var d=s[h].indexOf("="),C=null;if(0<=d){var k=s[h].substring(0,d);C=s[h].substring(d+1)}else k=s[h];a(k,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function $n(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof $n){this.h=s.h,Lo(this,s.j),this.o=s.o,this.g=s.g,Mo(this,s.s),this.l=s.l;var a=s.i,h=new pi;h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),bh(this,h),this.m=s.m}else s&&(a=String(s).match($h))?(this.h=!1,Lo(this,a[1]||"",!0),this.o=fi(a[2]||""),this.g=fi(a[3]||"",!0),Mo(this,a[4]),this.l=fi(a[5]||"",!0),bh(this,a[6]||"",!0),this.m=fi(a[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}$n.prototype.toString=function(){var s=[],a=this.j;a&&s.push(di(a,Hh,!0),":");var h=this.g;return(h||a=="file")&&(s.push("//"),(a=this.o)&&s.push(di(a,Hh,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&s.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&s.push("/"),s.push(di(h,h.charAt(0)=="/"?Sv:Tv,!0))),(h=this.i.toString())&&s.push("?",h),(h=this.m)&&s.push("#",di(h,Av)),s.join("")};function Wt(s){return new $n(s)}function Lo(s,a,h){s.j=h?fi(a,!0):a,s.j&&(s.j=s.j.replace(/:$/,""))}function Mo(s,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);s.s=a}else s.s=null}function bh(s,a,h){a instanceof pi?(s.i=a,Cv(s.i,s.h)):(h||(a=di(a,Iv)),s.i=new pi(a,s.h))}function se(s,a,h){s.i.set(a,h)}function Fo(s){return se(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function fi(s,a){return s?a?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function di(s,a,h){return typeof s=="string"?(s=encodeURI(s).replace(a,wv),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function wv(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Hh=/[#\/\?@]/g,Tv=/[#\?:]/g,Sv=/[#\?]/g,Iv=/[#\?@]/g,Av=/#/g;function pi(s,a){this.h=this.g=null,this.i=s||null,this.j=!!a}function cn(s){s.g||(s.g=new Map,s.h=0,s.i&&Ev(s.i,function(a,h){s.add(decodeURIComponent(a.replace(/\+/g," ")),h)}))}t=pi.prototype,t.add=function(s,a){cn(this),this.i=null,s=mr(this,s);var h=this.g.get(s);return h||this.g.set(s,h=[]),h.push(a),this.h+=1,this};function Qh(s,a){cn(s),a=mr(s,a),s.g.has(a)&&(s.i=null,s.h-=s.g.get(a).length,s.g.delete(a))}function Gh(s,a){return cn(s),a=mr(s,a),s.g.has(a)}t.forEach=function(s,a){cn(this),this.g.forEach(function(h,d){h.forEach(function(C){s.call(a,C,d,this)},this)},this)},t.na=function(){cn(this);const s=Array.from(this.g.values()),a=Array.from(this.g.keys()),h=[];for(let d=0;d<a.length;d++){const C=s[d];for(let k=0;k<C.length;k++)h.push(a[d])}return h},t.V=function(s){cn(this);let a=[];if(typeof s=="string")Gh(this,s)&&(a=a.concat(this.g.get(mr(this,s))));else{s=Array.from(this.g.values());for(let h=0;h<s.length;h++)a=a.concat(s[h])}return a},t.set=function(s,a){return cn(this),this.i=null,s=mr(this,s),Gh(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[a]),this.h+=1,this},t.get=function(s,a){return s?(s=this.V(s),0<s.length?String(s[0]):a):a};function Wh(s,a,h){Qh(s,a),0<h.length&&(s.i=null,s.g.set(mr(s,a),V(h)),s.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],a=Array.from(this.g.keys());for(var h=0;h<a.length;h++){var d=a[h];const k=encodeURIComponent(String(d)),j=this.V(d);for(d=0;d<j.length;d++){var C=k;j[d]!==""&&(C+="="+encodeURIComponent(String(j[d]))),s.push(C)}}return this.i=s.join("&")};function mr(s,a){return a=String(a),s.j&&(a=a.toLowerCase()),a}function Cv(s,a){a&&!s.j&&(cn(s),s.i=null,s.g.forEach(function(h,d){var C=d.toLowerCase();d!=C&&(Qh(this,d),Wh(this,C,h))},s)),s.j=a}function Pv(s,a){const h=new ci;if(u.Image){const d=new Image;d.onload=R(hn,h,"TestLoadImage: loaded",!0,a,d),d.onerror=R(hn,h,"TestLoadImage: error",!1,a,d),d.onabort=R(hn,h,"TestLoadImage: abort",!1,a,d),d.ontimeout=R(hn,h,"TestLoadImage: timeout",!1,a,d),u.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=s}else a(!1)}function Rv(s,a){const h=new ci,d=new AbortController,C=setTimeout(()=>{d.abort(),hn(h,"TestPingServer: timeout",!1,a)},1e4);fetch(s,{signal:d.signal}).then(k=>{clearTimeout(C),k.ok?hn(h,"TestPingServer: ok",!0,a):hn(h,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(C),hn(h,"TestPingServer: error",!1,a)})}function hn(s,a,h,d,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),d(h)}catch{}}function kv(){this.g=new hv}function xv(s,a,h){const d=h||"";try{Bh(s,function(C,k){let j=C;f(C)&&(j=Kl(C)),a.push(d+k+"="+encodeURIComponent(j))})}catch(C){throw a.push(d+"type="+encodeURIComponent("_badmap")),C}}function jo(s){this.l=s.Ub||null,this.j=s.eb||!1}x(jo,Xl),jo.prototype.g=function(){return new Uo(this.l,this.j)},jo.prototype.i=function(s){return function(){return s}}({});function Uo(s,a){je.call(this),this.D=s,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Uo,je),t=Uo.prototype,t.open=function(s,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=a,this.readyState=1,gi(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(a.body=s),(this.D||u).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qh(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function qh(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var a=s.value?s.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!s.done}))&&(this.response=this.responseText+=a)}s.done?mi(this):gi(this),this.readyState==3&&qh(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,mi(this))},t.Qa=function(s){this.g&&(this.response=s,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(s){s.readyState=4,s.l=null,s.j=null,s.v=null,gi(s)}t.setRequestHeader=function(s,a){this.u.append(s,a)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],a=this.h.entries();for(var h=a.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=a.next();return s.join(`\r
`)};function gi(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function Kh(s){let a="";return F(s,function(h,d){a+=d,a+=":",a+=h,a+=`\r
`}),a}function sa(s,a,h){e:{for(d in h){var d=!1;break e}d=!0}d||(h=Kh(h),typeof s=="string"?h!=null&&encodeURIComponent(String(h)):se(s,a,h))}function me(s){je.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(me,je);var Nv=/^https?$/i,Vv=["POST","PUT"];t=me.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,a,h,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);a=a?a.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zl.g(),this.v=this.o?Ih(this.o):Ih(Zl),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(a,String(s),!0),this.B=!1}catch(k){Xh(this,k);return}if(s=h||"",h=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var C in d)h.set(C,d[C]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(const k of d.keys())h.set(k,d.get(k));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(h.keys()).find(k=>k.toLowerCase()=="content-type"),C=u.FormData&&s instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vv,a,void 0))||d||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,j]of h)this.g.setRequestHeader(k,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zh(this),this.u=!0,this.g.send(s),this.u=!1}catch(k){Xh(this,k)}};function Xh(s,a){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=a,s.m=5,Yh(s),zo(s)}function Yh(s){s.A||(s.A=!0,qe(s,"complete"),qe(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,qe(this,"complete"),qe(this,"abort"),zo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zo(this,!0)),me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jh(this):this.bb())},t.bb=function(){Jh(this)};function Jh(s){if(s.h&&typeof l<"u"&&(!s.v[1]||qt(s)!=4||s.Z()!=2)){if(s.u&&qt(s)==4)Eh(s.Ea,0,s);else if(qe(s,"readystatechange"),qt(s)==4){s.h=!1;try{const j=s.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var h;if(!(h=a)){var d;if(d=j===0){var C=String(s.D).match($h)[1]||null;!C&&u.self&&u.self.location&&(C=u.self.location.protocol.slice(0,-1)),d=!Nv.test(C?C.toLowerCase():"")}h=d}if(h)qe(s,"complete"),qe(s,"success");else{s.m=6;try{var k=2<qt(s)?s.g.statusText:""}catch{k=""}s.l=k+" ["+s.Z()+"]",Yh(s)}}finally{zo(s)}}}}function zo(s,a){if(s.g){Zh(s);const h=s.g,d=s.v[0]?()=>{}:null;s.g=null,s.v=null,a||qe(s,"ready");try{h.onreadystatechange=d}catch{}}}function Zh(s){s.I&&(u.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function qt(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var a=this.g.responseText;return s&&a.indexOf(s)==0&&(a=a.substring(s.length)),cv(a)}};function ef(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Dv(s){const a={};s=(s.g&&2<=qt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<s.length;d++){if(v(s[d]))continue;var h=A(s[d]);const C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const k=a[C]||[];a[C]=k,k.push(h)}_(a,function(d){return d.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(s,a,h){return h&&h.internalChannelParams&&h.internalChannelParams[s]||a}function tf(s){this.Aa=0,this.i=[],this.j=new ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yi("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yi("baseRetryDelayMs",5e3,s),this.cb=yi("retryDelaySeedMs",1e4,s),this.Wa=yi("forwardChannelMaxRetries",2,s),this.wa=yi("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Mh(s&&s.concurrentRequestLimit),this.Da=new kv,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tf.prototype,t.la=8,t.G=1,t.connect=function(s,a,h,d){Ke(0),this.W=s,this.H=a||{},h&&d!==void 0&&(this.H.OSID=h,this.H.OAID=d),this.F=this.X,this.I=hf(this,null,this.W),$o(this)};function la(s){if(nf(s),s.G==3){var a=s.U++,h=Wt(s.I);if(se(h,"SID",s.K),se(h,"RID",a),se(h,"TYPE","terminate"),vi(s,h),a=new un(s,s.j,a),a.L=2,a.v=Fo(Wt(h)),h=!1,u.navigator&&u.navigator.sendBeacon)try{h=u.navigator.sendBeacon(a.v.toString(),"")}catch{}!h&&u.Image&&(new Image().src=a.v,h=!0),h||(a.g=ff(a.j,null),a.g.ea(a.v)),a.F=Date.now(),Oo(a)}cf(s)}function Bo(s){s.g&&(ua(s),s.g.cancel(),s.g=null)}function nf(s){Bo(s),s.u&&(u.clearTimeout(s.u),s.u=null),bo(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&u.clearTimeout(s.s),s.s=null)}function $o(s){if(!Fh(s.h)&&!s.s){s.s=!0;var a=s.Ga;$t||G(),B||($t(),B=!0),Q.add(a,s),s.B=0}}function Ov(s,a){return jh(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=a.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=ui(T(s.Ga,s,a),uf(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const C=new un(this,this.j,s);let k=this.o;if(this.S&&(k?(k=p(k),w(k,this.S)):k=this.S),this.m!==null||this.O||(C.H=k,k=null),this.P)e:{for(var a=0,h=0;h<this.i.length;h++){t:{var d=this.i[h];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(a+=d,4096<a){a=h;break e}if(a===4096||h===this.i.length-1){a=h+1;break e}}a=1e3}else a=1e3;a=of(this,C,a),h=Wt(this.I),se(h,"RID",s),se(h,"CVER",22),this.D&&se(h,"X-HTTP-Session-Id",this.D),vi(this,h),k&&(this.O?a="headers="+encodeURIComponent(String(Kh(k)))+"&"+a:this.m&&sa(h,this.m,k)),oa(this.h,C),this.Ua&&se(h,"TYPE","init"),this.P?(se(h,"$req",a),se(h,"SID","null"),C.T=!0,ta(C,h,null)):ta(C,h,a),this.G=2}}else this.G==3&&(s?rf(this,s):this.i.length==0||Fh(this.h)||rf(this))};function rf(s,a){var h;a?h=a.l:h=s.U++;const d=Wt(s.I);se(d,"SID",s.K),se(d,"RID",h),se(d,"AID",s.T),vi(s,d),s.m&&s.o&&sa(d,s.m,s.o),h=new un(s,s.j,h,s.B+1),s.m===null&&(h.H=s.o),a&&(s.i=a.D.concat(s.i)),a=of(s,h,1e3),h.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),oa(s.h,h),ta(h,d,a)}function vi(s,a){s.H&&F(s.H,function(h,d){se(a,d,h)}),s.l&&Bh({},function(h,d){se(a,d,h)})}function of(s,a,h){h=Math.min(s.i.length,h);var d=s.l?T(s.l.Na,s.l,s):null;e:{var C=s.i;let k=-1;for(;;){const j=["count="+h];k==-1?0<h?(k=C[0].g,j.push("ofs="+k)):k=0:j.push("ofs="+k);let re=!0;for(let xe=0;xe<h;xe++){let ee=C[xe].g;const Ue=C[xe].map;if(ee-=k,0>ee)k=Math.max(0,C[xe].g-100),re=!1;else try{xv(Ue,j,"req"+ee+"_")}catch{d&&d(Ue)}}if(re){d=j.join("&");break e}}}return s=s.i.splice(0,h),a.D=s,d}function sf(s){if(!s.g&&!s.u){s.Y=1;var a=s.Fa;$t||G(),B||($t(),B=!0),Q.add(a,s),s.v=0}}function aa(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=ui(T(s.Fa,s),uf(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,lf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=ui(T(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),Bo(this),lf(this))};function ua(s){s.A!=null&&(u.clearTimeout(s.A),s.A=null)}function lf(s){s.g=new un(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var a=Wt(s.qa);se(a,"RID","rpc"),se(a,"SID",s.K),se(a,"AID",s.T),se(a,"CI",s.F?"0":"1"),!s.F&&s.ja&&se(a,"TO",s.ja),se(a,"TYPE","xmlhttp"),vi(s,a),s.m&&s.o&&sa(a,s.m,s.o),s.L&&(s.g.I=s.L);var h=s.g;s=s.ia,h.L=1,h.v=Fo(Wt(a)),h.m=null,h.P=!0,Dh(h,s)}t.Za=function(){this.C!=null&&(this.C=null,Bo(this),aa(this),Ke(19))};function bo(s){s.C!=null&&(u.clearTimeout(s.C),s.C=null)}function af(s,a){var h=null;if(s.g==a){bo(s),ua(s),s.g=null;var d=2}else if(ia(s.h,a))h=a.D,Uh(s.h,a),d=1;else return;if(s.G!=0){if(a.o)if(d==1){h=a.m?a.m.length:0,a=Date.now()-a.F;var C=s.B;d=No(),qe(d,new kh(d,h)),$o(s)}else sf(s);else if(C=a.s,C==3||C==0&&0<a.X||!(d==1&&Ov(s,a)||d==2&&aa(s)))switch(h&&0<h.length&&(a=s.h,a.i=a.i.concat(h)),C){case 1:bn(s,5);break;case 4:bn(s,10);break;case 3:bn(s,6);break;default:bn(s,2)}}}function uf(s,a){let h=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(h*=2),h*a}function bn(s,a){if(s.j.info("Error code "+a),a==2){var h=T(s.fb,s),d=s.Xa;const C=!d;d=new $n(d||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Lo(d,"https"),Fo(d),C?Pv(d.toString(),h):Rv(d.toString(),h)}else Ke(2);s.G=0,s.l&&s.l.sa(a),cf(s),nf(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function cf(s){if(s.G=0,s.ka=[],s.l){const a=zh(s.h);(a.length!=0||s.i.length!=0)&&(z(s.ka,a),z(s.ka,s.i),s.h.i.length=0,V(s.i),s.i.length=0),s.l.ra()}}function hf(s,a,h){var d=h instanceof $n?Wt(h):new $n(h);if(d.g!="")a&&(d.g=a+"."+d.g),Mo(d,d.s);else{var C=u.location;d=C.protocol,a=a?a+"."+C.hostname:C.hostname,C=+C.port;var k=new $n(null);d&&Lo(k,d),a&&(k.g=a),C&&Mo(k,C),h&&(k.l=h),d=k}return h=s.D,a=s.ya,h&&a&&se(d,h,a),se(d,"VER",s.la),vi(s,d),d}function ff(s,a,h){if(a&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=s.Ca&&!s.pa?new me(new jo({eb:h})):new me(s.pa),a.Ha(s.J),a}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function df(){}t=df.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ho(){}Ho.prototype.g=function(s,a){return new at(s,a)};function at(s,a){je.call(this),this.g=new tf(a),this.l=s,this.h=a&&a.messageUrlParams||null,s=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(s?s["X-WebChannel-Content-Type"]=a.messageContentType:s={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(s?s["X-WebChannel-Client-Profile"]=a.va:s={"X-WebChannel-Client-Profile":a.va}),this.g.S=s,(s=a&&a.Sb)&&!v(s)&&(this.g.m=s),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!v(a)&&(this.g.D=a,s=this.h,s!==null&&a in s&&(s=this.h,a in s&&delete s[a])),this.j=new gr(this)}x(at,je),at.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},at.prototype.close=function(){la(this.g)},at.prototype.o=function(s){var a=this.g;if(typeof s=="string"){var h={};h.__data__=s,s=h}else this.u&&(h={},h.__data__=Kl(s),s=h);a.i.push(new yv(a.Ya++,s)),a.G==3&&$o(a)},at.prototype.N=function(){this.g.l=null,delete this.j,la(this.g),delete this.g,at.aa.N.call(this)};function pf(s){Yl.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var a=s.__sm__;if(a){e:{for(const h in a){s=h;break e}s=void 0}(this.i=s)&&(s=this.i,a=a!==null&&s in a?a[s]:void 0),this.data=a}else this.data=s}x(pf,Yl);function mf(){Jl.call(this),this.status=1}x(mf,Jl);function gr(s){this.g=s}x(gr,df),gr.prototype.ua=function(){qe(this.g,"a")},gr.prototype.ta=function(s){qe(this.g,new pf(s))},gr.prototype.sa=function(s){qe(this.g,new mf)},gr.prototype.ra=function(){qe(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,at.prototype.send=at.prototype.o,at.prototype.open=at.prototype.m,at.prototype.close=at.prototype.close,Yg=function(){return new Ho},Xg=function(){return No()},Kg=zn,Bu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vo.NO_ERROR=0,Vo.TIMEOUT=8,Vo.HTTP_ERROR=6,Ps=Vo,xh.COMPLETE="complete",qg=xh,Ah.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",je.prototype.listen=je.prototype.K,Vi=Ah,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,Wg=me}).apply(typeof us<"u"?us:typeof self<"u"?self:typeof window<"u"?window:{});const Md="@firebase/firestore",Fd="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ri="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Bg("@firebase/firestore");function _r(){return sr.logLevel}function b(t,...e){if(sr.logLevel<=Y.DEBUG){const n=e.map(Xc);sr.debug(`Firestore (${ri}): ${t}`,...n)}}function lr(t,...e){if(sr.logLevel<=Y.ERROR){const n=e.map(Xc);sr.error(`Firestore (${ri}): ${t}`,...n)}}function Dl(t,...e){if(sr.logLevel<=Y.WARN){const n=e.map(Xc);sr.warn(`Firestore (${ri}): ${t}`,...n)}}function Xc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Jg(t,r,n)}function Jg(t,e,n){let r=`FIRESTORE (${ri}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw lr(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Jg(e,i,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}}class BE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $E{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zn)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new Zg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new He(e)}}class bE{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HE{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,AE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=o=>{o.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,b("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jd(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=GE(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function $u(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return J(r,i);{const o=WE(),l=qE(o.encode(Ud(t,n)),o.encode(Ud(e,n)));return l!==0?l:J(r,i)}}n+=r>65535?2:1}return J(t.length,e.length)}function Ud(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qE(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return J(t[n],e[n]);return J(t.length,e.length)}function qr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=-62135596800,Bd=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Bd);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zd)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bd}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zd;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ke(0,0))}static max(){return new ue(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="__name__";class Mt{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Mt.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return J(e.length,n.length)}static compareSegments(e,n){const r=Mt.isNumericId(e),i=Mt.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mt.extractNumericId(e).compare(Mt.extractNumericId(n)):$u(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kc.fromString(e.substring(4,e.length-2))}}class ye extends Mt{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const KE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oe extends Mt{construct(e,n,r){return new Oe(e,n,r)}static isValidIdentifier(e){return KE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$d}static keyField(){return new Oe([$d])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oe(n)}static emptyPath(){return new Oe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(ye.fromString(e))}static fromName(e){return new W(ye.fromString(e).popFirst(5))}static empty(){return new W(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=-1;function XE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Vn(i,W.empty(),e)}function YE(t){return new Vn(t.readTime,t.key,fo)}class Vn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vn(ue.min(),W.empty(),fo)}static max(){return new Vn(ue.max(),W.empty(),fo)}}function JE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:J(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ew{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==ZE)throw t;b("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&n()},c=>r(c))}),l=!0,o===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new D((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function tw(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function eh(t){return t==null}function ol(t){return t===0&&1/t==-1/0}function nw(t){return typeof t=="number"&&Number.isInteger(t)&&!ol(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="";function rw(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bd(e)),e=iw(t.get(n),e);return bd(e)}function iw(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case ty:n+="";break;default:n+=o}}return n}function bd(t){return t+ty+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ny(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ve.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cs(this.root,e,this.comparator,!0)}}class cs{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ve.RED,this.left=i??Ve.EMPTY,this.right=o??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ve(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ve.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ve(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qd(this.data.getIterator())}getIteratorFrom(e){return new Qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class Qd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.fields=e,e.sort(Oe.comparator)}static empty(){return new kt([])}unionWith(e){let n=new Me(Oe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ow("Invalid base64 string: "+o):o}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=sw.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="server_timestamp",iy="__type__",oy="__previous_value__",sy="__local_write_time__";function th(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iy])===null||n===void 0?void 0:n.stringValue)===ry}function nh(t){const e=t.mapValue.fields[oy];return th(e)?nh(e):e}function sl(t){const e=ar(t.mapValue.fields[sy].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,r,i,o,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}const ll="(default)";class al{constructor(e,n){this.projectId=e,this.database=n||ll}static empty(){return new al("","")}get isDefaultDatabase(){return this.database===ll}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="__type__",ay="__max__",hs={mapValue:{fields:{__type__:{stringValue:ay}}}},uy="__vector__",bu="value";function ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?th(t)?4:uw(t)?9007199254740991:aw(t)?10:11:q(28295,{value:t})}function Bt(t,e){if(t===e)return!0;const n=ur(t);if(n!==ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ar(i.timestampValue),u=ar(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Kr(i.bytesValue).isEqual(Kr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=De(i.doubleValue),u=De(o.doubleValue);return l===u?ol(l)===ol(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],Bt);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(Hd(l)!==Hd(u))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(u[c]===void 0||!Bt(l[c],u[c])))return!1;return!0}(t,e);default:return q(52216,{left:t})}}function po(t,e){return(t.values||[]).find(n=>Bt(n,e))!==void 0}function Xr(t,e){if(t===e)return 0;const n=ur(t),r=ur(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=De(o.integerValue||o.doubleValue),c=De(l.integerValue||l.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Gd(t.timestampValue,e.timestampValue);case 4:return Gd(sl(t),sl(e));case 5:return $u(t.stringValue,e.stringValue);case 6:return function(o,l){const u=Kr(o),c=Kr(l);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),c=l.split("/");for(let f=0;f<u.length&&f<c.length;f++){const m=J(u[f],c[f]);if(m!==0)return m}return J(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=J(De(o.latitude),De(l.latitude));return u!==0?u:J(De(o.longitude),De(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wd(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,c,f,m;const g=o.fields||{},T=l.fields||{},R=(u=g[bu])===null||u===void 0?void 0:u.arrayValue,x=(c=T[bu])===null||c===void 0?void 0:c.arrayValue,V=J(((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0,((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0);return V!==0?V:Wd(R,x)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===hs.mapValue&&l===hs.mapValue)return 0;if(o===hs.mapValue)return 1;if(l===hs.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=l.fields||{},m=Object.keys(f);c.sort(),m.sort();for(let g=0;g<c.length&&g<m.length;++g){const T=$u(c[g],m[g]);if(T!==0)return T;const R=Xr(u[c[g]],f[m[g]]);if(R!==0)return R}return J(c.length,m.length)}(t.mapValue,e.mapValue);default:throw q(23264,{Pe:n})}}function Gd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return J(t,e);const n=ar(t),r=ar(e),i=J(n.seconds,r.seconds);return i!==0?i:J(n.nanos,r.nanos)}function Wd(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Xr(n[i],r[i]);if(o)return o}return J(n.length,r.length)}function Yr(t){return Hu(t)}function Hu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hu(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Hu(n.fields[l])}`;return i+"}"}(t.mapValue):q(61005,{value:t})}function Rs(t){switch(ur(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nh(t);return e?16+Rs(e):16;case 5:return 2*t.stringValue.length;case 6:return Kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Rs(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ii(r.fields,(o,l)=>{i+=o.length+Rs(l)}),i}(t.mapValue);default:throw q(13486,{value:t})}}function Qu(t){return!!t&&"integerValue"in t}function rh(t){return!!t&&"arrayValue"in t}function ks(t){return!!t&&"mapValue"in t}function aw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ly])===null||n===void 0?void 0:n.stringValue)===uy}function $i(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$i(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$i(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uw(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ay}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ks(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$i(n)}setAll(e){let n=Oe.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=$i(l):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ks(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ks(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ii(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rt($i(this.value))}}function cy(t){const e=[];return ii(t.fields,(n,r)=>{const i=new Oe([n]);if(ks(r)){const o=cy(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Pt(e,0,ue.min(),ue.min(),ue.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,ue.min(),ue.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,ue.min(),ue.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.position=e,this.inclusive=n}}function qd(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(l.referenceValue),n.key):r=Xr(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function cw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{}class Pe extends hy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fw(e,n,r):n==="array-contains"?new mw(e,r):n==="in"?new gw(e,r):n==="not-in"?new yw(e,r):n==="array-contains-any"?new vw(e,r):new Pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dw(e,r):new pw(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xr(n,this.value)):n!==null&&ur(this.value)===ur(n)&&this.matchesComparison(Xr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends hy{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Dn(e,n)}matches(e){return fy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fy(t){return t.op==="and"}function dy(t){return hw(t)&&fy(t)}function hw(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function Gu(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+Yr(t.value);if(dy(t))return t.filters.map(e=>Gu(e)).join(",");{const e=t.filters.map(n=>Gu(n)).join(",");return`${t.op}(${e})`}}function py(t,e){return t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.field.isEqual(i.field)&&Bt(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&py(l,i.filters[u]),!0):!1}(t,e):void q(19439)}function my(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Yr(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(my).join(" ,")+"}"}(t):"Filter"}class fw extends Pe{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class dw extends Pe{constructor(e,n){super(e,"in",n),this.keys=gy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pw extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=gy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class mw extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rh(n)&&po(n.arrayValue,this.value)}}class gw extends Pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&po(this.value.arrayValue,n)}}class yw extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!po(this.value.arrayValue,n)}}class vw extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>po(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function Xd(t,e=null,n=[],r=[],i=null,o=null,l=null){return new _w(t,e,n,r,i,o,l)}function ih(t){const e=oe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yr(r)).join(",")),e.Ie=n}return e.Ie}function oh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cw(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!py(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kd(t.startAt,e.startAt)&&Kd(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ew(t,e,n,r,i,o,l,u){return new Ol(t,e,n,r,i,o,l,u)}function ww(t){return new Ol(t)}function Yd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Tw(t){return t.collectionGroup!==null}function bi(t){const e=oe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Me(Oe.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new cl(o,r))}),n.has(Oe.keyField().canonicalString())||e.Ee.push(new cl(Oe.keyField(),r))}return e.Ee}function er(t){const e=oe(t);return e.de||(e.de=Sw(e,bi(t))),e.de}function Sw(t,e){if(t.limitType==="F")return Xd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cl(i.field,o)});const n=t.endAt?new ul(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ul(t.startAt.position,t.startAt.inclusive):null;return Xd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wu(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yy(t,e){return oh(er(t),er(e))&&t.limitType===e.limitType}function vy(t){return`${ih(er(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>my(i)).join(", ")}]`),eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yr(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yr(i)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function sh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of bi(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,c){const f=qd(l,u,c);return l.inclusive?f<=0:f<0}(r.startAt,bi(r),i)||r.endAt&&!function(l,u,c){const f=qd(l,u,c);return l.inclusive?f>=0:f>0}(r.endAt,bi(r),i))}(t,e)}function Iw(t){return(e,n)=>{let r=!1;for(const i of bi(t)){const o=Aw(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Aw(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,l,u){const c=l.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Xr(c,f):q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ny(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new lt(W.comparator);function hl(){return Cw}const _y=new lt(W.comparator);function fs(...t){let e=_y;for(const n of t)e=e.insert(n.key,n);return e}function Ey(t){let e=_y;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xn(){return Hi()}function wy(){return Hi()}function Hi(){return new fr(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pw=new lt(W.comparator),Rw=new Me(W.comparator);function Ge(...t){let e=Rw;for(const n of t)e=e.add(n);return e}const kw=new Me(J);function xw(){return kw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(e)?"-0":e}}function Ty(t){return{integerValue:""+t}}function Nw(t,e){return nw(e)?Ty(e):lh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this._=void 0}}function Vw(t,e,n){return t instanceof fl?function(i,o){const l={fields:{[iy]:{stringValue:ry},[sy]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&th(o)&&(o=nh(o)),o&&(l.fields[oy]=o),{mapValue:l}}(n,e):t instanceof mo?Iy(t,e):t instanceof go?Ay(t,e):function(i,o){const l=Sy(i,o),u=Jd(l)+Jd(i.Re);return Qu(l)&&Qu(i.Re)?Ty(u):lh(i.serializer,u)}(t,e)}function Dw(t,e,n){return t instanceof mo?Iy(t,e):t instanceof go?Ay(t,e):n}function Sy(t,e){return t instanceof dl?function(r){return Qu(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class fl extends Ll{}class mo extends Ll{constructor(e){super(),this.elements=e}}function Iy(t,e){const n=Cy(e);for(const r of t.elements)n.some(i=>Bt(i,r))||n.push(r);return{arrayValue:{values:n}}}class go extends Ll{constructor(e){super(),this.elements=e}}function Ay(t,e){let n=Cy(e);for(const r of t.elements)n=n.filter(i=>!Bt(i,r));return{arrayValue:{values:n}}}class dl extends Ll{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Jd(t){return De(t.integerValue||t.doubleValue)}function Cy(t){return rh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ow(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mo&&i instanceof mo||r instanceof go&&i instanceof go?qr(r.elements,i.elements,Bt):r instanceof dl&&i instanceof dl?Bt(r.Re,i.Re):r instanceof fl&&i instanceof fl}(t.transform,e.transform)}class Lw{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ml{}function Py(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ky(t.key,en.none()):new Io(t.key,t.data,en.none());{const n=t.data,r=Rt.empty();let i=new Me(Oe.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new dr(t.key,r,new kt(i.toArray()),en.none())}}function Mw(t,e,n){t instanceof Io?function(i,o,l){const u=i.value.clone(),c=ep(i.fieldTransforms,o,l.transformResults);u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(i,o,l){if(!xs(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=ep(i.fieldTransforms,o,l.transformResults),c=o.data;c.setAll(Ry(i)),c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Qi(t,e,n,r){return t instanceof Io?function(o,l,u,c){if(!xs(o.precondition,l))return u;const f=o.value.clone(),m=tp(o.fieldTransforms,c,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(o,l,u,c){if(!xs(o.precondition,l))return u;const f=tp(o.fieldTransforms,c,l),m=l.data;return m.setAll(Ry(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,l,u){return xs(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function Fw(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Sy(r.transform,i||null);o!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,o))}return n||null}function Zd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qr(r,i,(o,l)=>Ow(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Io extends Ml{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dr extends Ml{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ry(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ep(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,Dw(l,u,n[i]))}return r}function tp(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,Vw(o,l,e))}return r}class ky extends Ml{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jw extends Ml{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Mw(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wy();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const c=Py(l,u);c!==null&&r.set(i.key,c),l.isValidDocument()||l.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,(n,r)=>Zd(n,r))&&qr(this.baseMutations,e.baseMutations,(n,r)=>Zd(n,r))}}class ah{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Pw}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new ah(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,X;function Bw(t){switch(t){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function $w(t){if(t===void 0)return lr("GRPC error has no .code"),M.UNKNOWN;switch(t){case we.OK:return M.OK;case we.CANCELLED:return M.CANCELLED;case we.UNKNOWN:return M.UNKNOWN;case we.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case we.INTERNAL:return M.INTERNAL;case we.UNAVAILABLE:return M.UNAVAILABLE;case we.UNAUTHENTICATED:return M.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case we.NOT_FOUND:return M.NOT_FOUND;case we.ALREADY_EXISTS:return M.ALREADY_EXISTS;case we.PERMISSION_DENIED:return M.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case we.ABORTED:return M.ABORTED;case we.OUT_OF_RANGE:return M.OUT_OF_RANGE;case we.UNIMPLEMENTED:return M.UNIMPLEMENTED;case we.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:t})}}(X=we||(we={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Kc([4294967295,4294967295],0);class bw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qw(t,e){return qu(t,e.toTimestamp())}function zr(t){return ve(!!t,49232),ue.fromTimestamp(function(n){const r=ar(n);return new ke(r.seconds,r.nanos)}(t))}function xy(t,e){return Ku(t,e).canonicalString()}function Ku(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gw(t){const e=ye.fromString(t);return ve(eT(e),10190,{key:e.toString()}),e}function Xu(t,e){return xy(t.databaseId,e.path)}function Ww(t){const e=Gw(t);return e.length===4?ye.emptyPath():Kw(e)}function qw(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kw(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function np(t,e,n){return{name:Xu(t,e),fields:n.value.mapValue.fields}}function Xw(t,e){let n;if(e instanceof Io)n={update:np(t,e.key,e.value)};else if(e instanceof ky)n={delete:Xu(t,e.key)};else if(e instanceof dr)n={update:np(t,e.key,e.data),updateMask:Zw(e.fieldMask)};else{if(!(e instanceof jw))return q(16599,{ft:e.type});n={verify:Xu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof fl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof go)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dl)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw q(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Qw(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)}(t,e.precondition)),n}function Yw(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?zr(i.updateTime):zr(o);return l.isEqual(ue.min())&&(l=zr(o)),new Lw(l,i.transformResults||[])}(n,e))):[]}function Jw(t){let e=Ww(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(g){const T=Ny(g);return T instanceof Dn&&dy(T)?T.getFilters():[T]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(T=>function(x){return new cl(Er(x.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(n.orderBy));let u=null;n.limit&&(u=function(g){let T;return T=typeof g=="object"?g.value:g,eh(T)?null:T}(n.limit));let c=null;n.startAt&&(c=function(g){const T=!!g.before,R=g.values||[];return new ul(R,T)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const T=!g.before,R=g.values||[];return new ul(R,T)}(n.endAt)),Ew(e,i,l,o,u,"F",c,f)}function Ny(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Er(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Er(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Er(n.unaryFilter.field);return Pe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Er(n.unaryFilter.field);return Pe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(Er(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>Ny(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(n.compositeFilter.op))}(t):q(30097,{filter:t})}function Er(t){return Oe.fromServerFormat(t.fieldPath)}function Zw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.wt=e}}function nT(t){const e=Jw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.yn=new iT}addToCollectionParentIndex(e,n){return this.yn.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(Vn.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(Vn.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class iT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Me(ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vy=41943040;class tt{static withCacheSize(e){return new tt(e,tt.DEFAULT_COLLECTION_PERCENTILE,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt.DEFAULT_COLLECTION_PERCENTILE=10,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tt.DEFAULT=new tt(Vy,tt.DEFAULT_COLLECTION_PERCENTILE,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tt.DISABLED=new tt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Jr(0)}static ir(){return new Jr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LruGarbageCollector",oT=1048576;function op([t,e],[n,r]){const i=J(t,n);return i===0?J(e,r):i}class sT{constructor(e){this.cr=e,this.buffer=new Me(op),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();op(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lT{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){b(ip,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?b(ip,"Ignoring IndexedDB error during garbage collection: ",n):await Yc(n)}await this.Ir(3e5)})}}class aT{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return D.resolve(Jc.le);const r=new sT(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(b("LruGarbageCollector","Garbage collection skipped; disabled"),D.resolve(rp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(b("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rp):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,l,u,c,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(b("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),_r()<=Y.DEBUG&&b("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(f-c)+`ms
Total Duration: ${f-m}ms`),D.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function uT(t,e){return new aT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.changes=new fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qi(r.mutation,i,kt.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=Xn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=fs();return o.forEach((u,c)=>{l=l.insert(u,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Xn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let o=hl();const l=Hi(),u=function(){return Hi()}();return n.forEach((c,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof dr)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Qi(m.mutation,f,m.mutation.getFieldMask(),ke.now())):l.set(f.key,kt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var g;return u.set(f,new hT(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Hi();let i=new lt((l,u)=>l-u),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let m=r.get(c)||kt.empty();m=u.applyToLocalView(f,m),r.set(c,m);const g=(i.get(u.batchId)||Ge()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,m=c.value,g=wy();m.forEach(T=>{if(!o.has(T)){const R=Py(n.get(T),r.get(T));R!==null&&g.set(T,R),o=o.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return D.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return W.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):D.resolve(Xn());let u=fo,c=o;return l.next(f=>D.forEach(f,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(m)?D.resolve():this.remoteDocumentCache.getEntry(e,m).next(T=>{c=c.insert(m,T)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,Ge())).next(m=>({batchId:u,changes:Ey(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=fs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=fs();return this.indexManager.getCollectionParents(e,o).next(u=>D.forEach(u,c=>{const f=function(g,T){return new Ol(T,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((g,T)=>{l=l.insert(g,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((c,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Pt.newInvalidDocument(m)))});let u=fs();return l.forEach((c,f)=>{const m=o.get(c);m!==void 0&&Qi(m.mutation,f,kt.empty(),ke.now()),sh(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return D.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zr(i.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:nT(i.bundledQuery),readTime:zr(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.overlays=new lt(W.comparator),this.Or=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xn();return D.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=Xn(),o=n.length+1,l=new W(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Xn(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Xn(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return D.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new zw(n,r));let o=this.Or.get(n);o===void 0&&(o=Ge(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return D.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,D.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.Nr=new Me(Ae.Br),this.Lr=new Me(Ae.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Ae(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Ae(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new W(new ye([])),r=new Ae(n,e),i=new Ae(n,e+1),o=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new W(new ye([])),r=new Ae(n,e),i=new Ae(n,e+1);let o=Ge();return this.Lr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Ae(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ae{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return W.comparator(e.key,n.key)||J(e.Gr,n.Gr)}static kr(e,n){return J(e.Gr,n.Gr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Me(Ae.Br)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Uw(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.zr=this.zr.add(new Ae(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return D.resolve(l)}lookupMutationBatch(e,n){return D.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),o=i<0?0:i;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?Zc:this.Jn-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ae(n,0),i=new Ae(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],l=>{const u=this.jr(l.Gr);o.push(u)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(J);return n.forEach(i=>{const o=new Ae(i,0),l=new Ae(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],u=>{r=r.add(u.Gr)})}),D.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const l=new Ae(new W(o),0);let u=new Me(J);return this.zr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Gr)),!0)},l),D.resolve(this.Jr(u))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return D.forEach(n.mutations,i=>{const o=new Ae(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Ae(n,0),i=this.zr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.Zr=e,this.docs=function(){return new lt(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=hl();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pt.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hl();const l=n.path,u=new W(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||JE(YE(m),r)<=0||(i.has(m.key)||sh(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}Xr(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vT(this)}getSize(e){return D.resolve(this.size)}}class vT extends cT{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.persistence=e,this.ei=new fr(n=>ih(n),oh),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ti=0,this.ni=new uh,this.targetCount=0,this.ri=Jr.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),D.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Jr(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.ar(n),D.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),D.waitFor(o).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),D.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.ii={},this.overlays={},this.si=new Jc(0),this.oi=!1,this.oi=!0,this._i=new mT,this.referenceDelegate=e(this),this.ai=new _T(this),this.indexManager=new rT,this.remoteDocumentCache=function(i){return new yT(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new tT(n),this.ci=new dT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new gT(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new ET(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return D.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class ET extends ew{constructor(e){super(),this.currentSequenceNumber=e}}class ch{constructor(e){this.persistence=e,this.Ti=new uh,this.Ii=null}static Ei(e){return new ch(e)}get di(){if(this.Ii)return this.Ii;throw q(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),D.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.di,r=>{const i=W.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return D.or([()=>D.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class pl{constructor(e,n){this.persistence=e,this.Ri=new fr(r=>rw(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uT(this,n)}static Ei(e,n){return new pl(e,n)}li(){}hi(e){return D.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return D.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?D.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,n).next(u=>{u||(r++,o.removeEntry(l,ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),D.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),D.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),D.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),D.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rs(e.data.value)),n}gr(e,n,r){return D.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return D.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Ge(),i=Ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return T1()?8:tw(E1())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Rs(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new wT;return this.fs(e,n,l).next(u=>{if(o.result=u,this.Is)return this.gs(e,n,l,u.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(_r()<=Y.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),D.resolve()):(_r()<=Y.DEBUG&&b("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(_r()<=Y.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):D.resolve())}Rs(e,n){if(Yd(n))return D.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wu(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ge(...o);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.ps(n,u);return this.ys(n,f,l,c.readTime)?this.Rs(e,Wu(n,null,"F")):this.ws(e,f,n,c)}))})))}Vs(e,n,r,i){return Yd(n)||i.isEqual(ue.min())?D.resolve(null):this.As.getDocuments(e,r).next(o=>{const l=this.ps(n,o);return this.ys(n,l,r,i)?D.resolve(null):(_r()<=Y.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pi(n)),this.ws(e,l,n,XE(i,fo)).next(u=>u))})}ps(e,n){let r=new Me(Iw(e));return n.forEach((i,o)=>{sh(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return _r()<=Y.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.As.getDocumentsMatchingQuery(e,n,Vn.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="LocalStore";class IT{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new lt(J),this.Ds=new fr(o=>ih(o),oh),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fT(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function AT(t,e,n,r){return new IT(t,e,n,r)}async function Oy(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let c=Ge();for(const f of i){l.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ms:f,removedBatchIds:l,addedBatchIds:u}))})})}function CT(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,m){const g=f.batch,T=g.keys();let R=D.resolve();return T.forEach(x=>{R=R.next(()=>m.getEntry(c,x)).next(V=>{const z=f.docVersions.get(x);ve(z!==null,48541),V.version.compareTo(z)<0&&(g.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),m.addEntry(V)))})}),R.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Ge();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PT(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function RT(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Zc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class sp{constructor(){this.activeTargetIds=xw()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kT{constructor(){this.So=new sp,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new sp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="ConnectivityMonitor";class ap{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){b(lp,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){b(lp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds=null;function Yu(){return ds===null?ds=function(){return 268435456+Math.round(2147483648*Math.random())}():ds++,"0x"+ds.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RestConnection",NT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VT{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===ll?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){const l=Yu(),u=this.$o(e,n.toUriEncodedString());b(Ba,`Sending RPC '${e}' ${l}:`,u,r);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,i,o),this.Ko(e,u,c,r).then(f=>(b(Ba,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Dl(Ba,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",r),f})}Wo(e,n,r,i,o,l){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ri}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){const r=NT[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be="WebChannelConnection";class OT extends VT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const o=Yu();return new Promise((l,u)=>{const c=new Wg;c.setWithCredentials(!0),c.listenOnce(qg.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ps.NO_ERROR:const m=c.getResponseJson();b(be,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Ps.TIMEOUT:b(be,`RPC '${e}' ${o} timed out`),u(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ps.HTTP_ERROR:const g=c.getStatus();if(b(be,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let T=c.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const x=function(z){const I=z.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(I)>=0?I:M.UNKNOWN}(R.status);u(new H(x,R.message))}else u(new H(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new H(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{s_:e,streamId:o,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{b(be,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);b(be,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}a_(e,n,r){const i=Yu(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Yg(),u=Xg(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=o.join("");b(be,`Creating RPC '${e}' stream ${i}: ${m}`,c);const g=l.createWebChannel(m,c);let T=!1,R=!1;const x=new DT({Go:z=>{R?b(be,`Not sending because RPC '${e}' stream ${i} is closed:`,z):(T||(b(be,`Opening RPC '${e}' stream ${i} transport.`),g.open(),T=!0),b(be,`RPC '${e}' stream ${i} sending:`,z),g.send(z))},zo:()=>g.close()}),V=(z,I,v)=>{z.listen(I,S=>{try{v(S)}catch(N){setTimeout(()=>{throw N},0)}})};return V(g,Vi.EventType.OPEN,()=>{R||(b(be,`RPC '${e}' stream ${i} transport opened.`),x.t_())}),V(g,Vi.EventType.CLOSE,()=>{R||(R=!0,b(be,`RPC '${e}' stream ${i} transport closed`),x.r_())}),V(g,Vi.EventType.ERROR,z=>{R||(R=!0,Dl(be,`RPC '${e}' stream ${i} transport errored. Name:`,z.name,"Message:",z.message),x.r_(new H(M.UNAVAILABLE,"The operation could not be completed")))}),V(g,Vi.EventType.MESSAGE,z=>{var I;if(!R){const v=z.data[0];ve(!!v,16349);const S=v,N=(S==null?void 0:S.error)||((I=S[0])===null||I===void 0?void 0:I.error);if(N){b(be,`RPC '${e}' stream ${i} received error:`,N);const U=N.status;let F=function(y){const w=we[y];if(w!==void 0)return $w(w)}(U),_=N.message;F===void 0&&(F=M.INTERNAL,_="Unknown error status: "+U+" with message "+N.message),R=!0,x.r_(new H(F,_)),g.close()}else b(be,`RPC '${e}' stream ${i} received:`,v),x.i_(v)}}),V(u,Kg.STAT_EVENT,z=>{z.stat===Bu.PROXY?b(be,`RPC '${e}' stream ${i} detected buffering proxy`):z.stat===Bu.NOPROXY&&b(be,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function $a(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){return new bw(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="PersistentStream";class LT{constructor(e,n,r,i,o,l,u,c){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Ly(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return b(up,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(b(up,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MT extends LT{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Yw(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=qw(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Xw(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class jT extends FT{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,Ku(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(M.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,Ku(n,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(M.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class UT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(lr(n),this.ea=!1):b("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class zT{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Po(this)&&(b(Ao,"Restarting streams for network reachability change."),await async function(c){const f=oe(c);f.aa.add(4),await Co(f),f.la.set("Unknown"),f.aa.delete(4),await jl(f)}(this))})}),this.la=new UT(r,i)}}async function jl(t){if(Po(t))for(const e of t.ua)await e(!0)}async function Co(t){for(const e of t.ua)await e(!1)}function Po(t){return oe(t).aa.size===0}async function My(t,e,n){if(!So(e))throw e;t.aa.add(1),await Co(t),t.la.set("Offline"),n||(n=()=>PT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{b(Ao,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await jl(t)})}function Fy(t,e){return e().catch(n=>My(t,n,e))}async function Ul(t){const e=oe(t),n=On(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Zc;for(;BT(e);)try{const i=await RT(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,$T(e,i)}catch(i){await My(e,i)}jy(e)&&Uy(e)}function BT(t){return Po(t)&&t.oa.length<10}function $T(t,e){t.oa.push(e);const n=On(t);n.b_()&&n.W_&&n.G_(e.mutations)}function jy(t){return Po(t)&&!On(t).w_()&&t.oa.length>0}function Uy(t){On(t).start()}async function bT(t){On(t).H_()}async function HT(t){const e=On(t);for(const n of t.oa)e.G_(n.mutations)}async function QT(t,e,n){const r=t.oa.shift(),i=ah.from(r,e,n);await Fy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ul(t)}async function GT(t,e){e&&On(t).W_&&await async function(r,i){if(function(l){return Bw(l)&&l!==M.ABORTED}(i.code)){const o=r.oa.shift();On(r).D_(),await Fy(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ul(r)}}(t,e),jy(t)&&Uy(t)}async function cp(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),b(Ao,"RemoteStore received new credentials");const r=Po(n);n.aa.add(3),await Co(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await jl(n)}async function WT(t,e){const n=oe(t);e?(n.aa.delete(2),await jl(n)):e||(n.aa.add(2),await Co(n),n.la.set("Unknown"))}function On(t){return t.Ta||(t.Ta=function(n,r,i){const o=oe(n);return o.Y_(),new MT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:bT.bind(null,t),Zo:GT.bind(null,t),z_:HT.bind(null,t),j_:QT.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Ul(t)):(await t.Ta.stop(),t.oa.length>0&&(b(Ao,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new fh(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zy(t,e){if(lr("AsyncQueue",`${e}: ${t}`),So(t))return new H(M.UNAVAILABLE,`${e}: ${t}`);throw t}class qT{constructor(){this.queries=hp(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=oe(n),o=i.queries;i.queries=hp(),o.forEach((l,u)=>{for(const c of u.Ra)c.onError(r)})})(this,new H(M.ABORTED,"Firestore shutting down"))}}function hp(){return new fr(t=>vy(t),yy)}function KT(t){t.fa.forEach(e=>{e.next()})}var fp,dp;(dp=fp||(fp={})).ya="default",dp.Cache="cache";const XT="SyncEngine";class YT{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new fr(u=>vy(u),yy),this.iu=new Map,this.su=new Set,this.ou=new lt(W.comparator),this._u=new Map,this.au=new uh,this.uu={},this.cu=new Map,this.lu=Jr.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function JT(t,e,n){const r=nS(t);try{const i=await function(l,u){const c=oe(l),f=ke.now(),m=u.reduce((R,x)=>R.add(x.key),Ge());let g,T;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let x=hl(),V=Ge();return c.Cs.getEntries(R,m).next(z=>{x=z,x.forEach((I,v)=>{v.isValidDocument()||(V=V.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,x)).next(z=>{g=z;const I=[];for(const v of u){const S=Fw(v,g.get(v.key).overlayedDocument);S!=null&&I.push(new dr(v.key,S,cy(S.value.mapValue),en.exists(!0)))}return c.mutationQueue.addMutationBatch(R,f,I,u)}).next(z=>{T=z;const I=z.applyToLocalDocumentSet(g,V);return c.documentOverlayCache.saveOverlays(R,z.batchId,I)})}).then(()=>({batchId:T.batchId,changes:Ey(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,c){let f=l.uu[l.currentUser.toKey()];f||(f=new lt(J)),f=f.insert(u,c),l.uu[l.currentUser.toKey()]=f}(r,i.batchId,n),await zl(r,i.changes),await Ul(r.remoteStore)}catch(i){const o=zy(i,"Failed to persist write");n.reject(o)}}function pp(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((o,l)=>{const u=l.view.ga(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const c=oe(l);c.onlineState=u;let f=!1;c.queries.forEach((m,g)=>{for(const T of g.Ra)T.ga(u)&&(f=!0)}),f&&KT(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZT(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await CT(n.localStore,e);$y(n,r,null),By(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zl(n,i)}catch(i){await Yc(i)}}async function eS(t,e,n){const r=oe(t);try{const i=await function(l,u){const c=oe(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return c.mutationQueue.lookupMutationBatch(f,u).next(g=>(ve(g!==null,37113),m=g.keys(),c.mutationQueue.removeMutationBatch(f,g))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>c.localDocuments.getDocuments(f,m))})}(r.localStore,e);$y(r,e,n),By(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zl(r,i)}catch(i){await Yc(i)}}function By(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function $y(t,e,n){const r=oe(t);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}async function zl(t,e,n){const r=oe(t),i=[],o=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,c)=>{l.push(r.Pu(c,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=void 0)===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(f){i.push(f);const g=hh.Ps(c.targetId,f);o.push(g)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(c,f){const m=oe(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>D.forEach(f,T=>D.forEach(T.ls,R=>m.persistence.referenceDelegate.addReference(g,T.targetId,R)).next(()=>D.forEach(T.hs,R=>m.persistence.referenceDelegate.removeReference(g,T.targetId,R)))))}catch(g){if(!So(g))throw g;b(ST,"Failed to update sequence numbers: "+g)}for(const g of f){const T=g.targetId;if(!g.fromCache){const R=m.Ss.get(T),x=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(x);m.Ss=m.Ss.insert(T,V)}}}(r.localStore,o))}async function tS(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){b(XT,"User change. New user:",e.toKey());const r=await Oy(n.localStore,e);n.currentUser=e,function(o,l){o.cu.forEach(u=>{u.forEach(c=>{c.reject(new H(M.CANCELLED,l))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zl(n,r.Ms)}}function nS(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eS.bind(null,e),e}class ml{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fl(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return AT(this.persistence,new TT,e.initialUser,this.serializer)}Ru(e){return new Dy(ch.Ei,this.serializer)}Au(e){return new kT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ml.provider={build:()=>new ml};class rS extends ml{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){ve(this.persistence.referenceDelegate instanceof pl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lT(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?tt.withCacheSize(this.cacheSizeBytes):tt.DEFAULT;return new Dy(r=>pl.Ei(r,n),this.serializer)}}class Ju{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tS.bind(null,this.syncEngine),await WT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qT}()}createDatastore(e){const n=Fl(e.databaseInfo.databaseId),r=function(o){return new OT(o)}(e.databaseInfo);return function(o,l,u,c){return new jT(o,l,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,u){return new zT(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>pp(this.syncEngine,n,0),function(){return ap.C()?new ap:new xT}())}createSyncEngine(e,n){return function(i,o,l,u,c,f,m){const g=new YT(i,o,l,u,c,f);return m&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=oe(i);b(Ao,"RemoteStore shutting down."),o.aa.add(5),await Co(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ju.provider={build:()=>new Ju};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="FirestoreClient";class iS{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{b(Ln,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(b(Ln,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ba(t,e){t.asyncQueue.verifyOperationInProgress(),b(Ln,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Oy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oS(t);b(Ln,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cp(e.remoteStore,i)),t._onlineComponents=e}async function oS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b(Ln,"Using user provided OfflineComponentProvider");try{await ba(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await ba(t,new ml)}}else b(Ln,"Using default OfflineComponentProvider"),await ba(t,new rS(void 0));return t._offlineComponents}async function sS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b(Ln,"Using user provided OnlineComponentProvider"),await mp(t,t._uninitializedComponentsProvider._online)):(b(Ln,"Using default OnlineComponentProvider"),await mp(t,new Ju))),t._onlineComponents}function lS(t){return sS(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e,n){if(!n)throw new H(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aS(t,e,n,r){if(e===!0&&r===!0)throw new H(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yp(t){if(!W.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vp(t){if(W.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function Qy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(t);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="firestore.googleapis.com",_p=!0;class Ep{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gy,this.ssl=_p}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_p;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oT)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=by((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ep({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ep(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zE;switch(r.type){case"firstParty":return new HE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gp.get(n);r&&(b("ComponentProvider","Removing Datastore"),gp.delete(n),r.terminate())}(this),Promise.resolve()}}function uS(t,e,n,r={}){var i;const o=(t=Qy(t,Bl))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o.host!==Gy&&o.host!==u&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:r});if(!nl(c,l)&&(t._setSettings(c),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=He.MOCK_USER;else{f=_1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new He(g)}t._authCredentials=new BE(new Zg(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ph(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class kn extends ph{constructor(e,n,r){super(e,n,ww(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new W(e))}withConverter(e){return new kn(this.firestore,e,this._path)}}function cS(t,e,...n){if(t=uo(t),Hy("collection","path",e),t instanceof Bl){const r=ye.fromString(e,...n);return vp(r),new kn(t,null,r)}{if(!(t instanceof tn||t instanceof kn))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return vp(r),new kn(t.firestore,null,r)}}function hS(t,e,...n){if(t=uo(t),arguments.length===1&&(e=ey.newId()),Hy("doc","path",e),t instanceof Bl){const r=ye.fromString(e,...n);return yp(r),new tn(t,null,new W(r))}{if(!(t instanceof tn||t instanceof kn))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return yp(r),new tn(t.firestore,t instanceof kn?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="AsyncQueue";class Tp{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Ly(this,"async_queue_retry"),this.ju=()=>{const r=$a();r&&b(wp,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=$a();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=$a();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Zn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!So(e))throw e;b(wp,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,lr("INTERNAL UNHANDLED ERROR: ",Sp(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=fh.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&q(47125,{ec:Sp(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Sp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wy extends Bl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tp(e),this._firestoreClient=void 0,await e}}}function fS(t,e){const n=typeof t=="object"?t:kE(),r=typeof t=="string"?t:ll,i=IE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=y1("firestore");o&&uS(i,...o)}return i}function dS(t){if(t._terminated)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pS(t),t._firestoreClient}function pS(t){var e,n,r;const i=t._freezeSettings(),o=function(u,c,f,m){return new lw(u,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,by(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iS(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(zt.fromBase64String(e))}catch(n){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=/^__.*__$/;class gS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Io(e,this.data,n,this.fieldTransforms)}}function Jy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{oc:t})}}class mh{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new mh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return gl(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Jy(this.oc)&&mS.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class yS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fl(e)}dc(e,n,r,i=!1){return new mh({oc:e,methodName:n,Ec:r,path:Oe.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vS(t){const e=t._freezeSettings(),n=Fl(t._databaseId);return new yS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _S(t,e,n,r,i,o={}){const l=t.dc(o.merge||o.mergeFields?2:0,e,n,i);nv("Data must be an object, but it was:",l,r);const u=ev(r,l);let c,f;if(o.merge)c=new kt(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const T=ES(e,g,n);if(!l.contains(T))throw new H(M.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);SS(m,T)||m.push(T)}c=new kt(m),f=l.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,f=l.fieldTransforms;return new gS(new Rt(u),c,f)}function Zy(t,e){if(tv(t=uo(t)))return nv("Unsupported field value:",e,t),ev(t,e);if(t instanceof Ky)return function(r,i){if(!Jy(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let c=Zy(u,i.Pc(l));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=uo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nw(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ke.fromDate(r);return{timestampValue:qu(i.serializer,o)}}if(r instanceof ke){const o=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qu(i.serializer,o)}}if(r instanceof Xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:Hw(i.serializer,r._byteString)};if(r instanceof tn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yy)return function(l,u){return{mapValue:{fields:{[ly]:{stringValue:uy},[bu]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Tc("VectorValues must only contain numeric values.");return lh(u.serializer,f)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${dh(r)}`)}(t,e)}function ev(t,e){const n={};return ny(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,i)=>{const o=Zy(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof Xy||t instanceof yo||t instanceof tn||t instanceof Ky||t instanceof Yy)}function nv(t,e,n){if(!tv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=dh(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function ES(t,e,n){if((e=uo(e))instanceof qy)return e._internalPath;if(typeof e=="string")return TS(t,e);throw gl("Field path arguments must be of type string or ",t,!1,void 0,n)}const wS=new RegExp("[~\\*/\\[\\]]");function TS(t,e,n){if(e.search(wS)>=0)throw gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qy(...e.split("."))._internalPath}catch{throw gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gl(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||l)&&(c+=" (found",o&&(c+=` in field ${r}`),l&&(c+=` in document ${i}`),c+=")"),new H(M.INVALID_ARGUMENT,u+t+c)}function SS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function AS(t,e){const n=Qy(t.firestore,Wy),r=hS(t),i=IS(t.converter,e);return CS(n,[_S(vS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,en.exists(!1))]).then(()=>r)}function CS(t,e){return function(r,i){const o=new Zn;return r.asyncQueue.enqueueAndForget(async()=>JT(await lS(r),i,o)),o.promise}(dS(t),e)}(function(e,n=!0){(function(i){ri=i})(RE),il(new co("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Wy(new $E(r.getProvider("auth-internal")),new QE(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Ur(Md,Fd,e),Ur(Md,Fd,"esm2017")})();var PS="firebase",RS="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(PS,RS,"app");const kS={apiKey:"AIzaSyAQ0AsFcnwdb1AF1jQhIPXCEGECOMzVqe0",authDomain:"bd-bv-cadastro-profissional.firebaseapp.com",projectId:"bd-bv-cadastro-profissional",storageBucket:"bd-bv-cadastro-profissional.firebasestorage.app",messagingSenderId:"958338993993",appId:"1:958338993993:web:07af005697c1dad5a31498"},xS=Hg(kS),NS=fS(xS),VS=async t=>{try{await AS(cS(NS,"profissionais"),t)}catch(e){throw console.error("Erro ao salvar no Firestore:",e),e}},DS=async t=>{try{await fetch("https://script.google.com/macros/s/AKfycbxK5svYHLrWDRbFPDCULul9f5r9KKJpxPaWnoNpOhznrWQxO7wfIjAjr6GUXXFQ1mki/exec",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t.nomeCompleto,cpf:t.CPF,telefone:t.telefone,dataNascimento:t.dataNascimento,funcao:t.funcao,unidade:t.unidade,dataAdmissao:t.dataAdmissao,dataPreenchimento:t.dataPreenchimento,conselho:t.conselho||"",numeroConselho:t.numeroConselho||"",tipoFuncao:t.tipoFuncao||"",especialidade:t.especialidade||"",endereco:t.endereco||"",bairro:t.bairro||"",cep:t.cep||"",numero:t.numero||"",setor:t.setor||""})})}catch(e){throw console.error("Erro ao enviar notificação:",e),e}},OS=t=>t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"),LS=t=>t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d{1,4})$/,"$1-$2"),MS=t=>t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\d{4})\d+?$/,"$1"),FS=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),jS=(t,e)=>{if(console.log("Gerando logins para:",{nomeCompleto:t,funcao:e}),!t||!t.trim())return console.error("nomeCompleto está vazio ou inválido"),[];const n=FS(t.trim().toLowerCase()),[r,...i]=n.split(" "),o=i[i.length-1]||"";if(!r||!o)return console.error("Nome completo inválido, requer primeiro e último nome:",{firstName:r,lastName:o}),[];const l=`${r}.${o}`,u=`${r.toUpperCase()} ${o.toUpperCase()}`,c=`${r}_${o}`,f=r,m=()=>Math.floor(1e3+Math.random()*9e3).toString();let g=[];const T=["Médico","Enfermeiro","Tec. Enfermagem","Farmacêutico","Nutricionista","Psicólogo","Serviço Social","Terapia Ocupacional"],R=["Recepção-BV","Recepção-IT"];if(T.includes(e))g=[{type:"Computador",login:l,password:"12345678"},{type:"Psychi Health",login:c,password:"primeiroacesso"}];else if(R.includes(e))g=[{type:"Computador",login:l,password:"12345678"},{type:"TechSallus",login:u,password:"123456"}];else if(e==="Call-Center"){const x=m();g=[{type:"Computador",login:l,password:"12345678"},{type:"TechSallus",login:u,password:"123456"},{type:"Atendimento Call-Center",login:f,password:x}]}else g=[{type:"Computador",login:l,password:"12345678"}];return console.log("Logins retornados:",g),g},US={backgroundImage:'url("https://i.imgur.com/STKAA6q.jpeg")',backgroundSize:"cover",backgroundPosition:"center",position:"relative",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},zS={maxWidth:"700px",margin:"0 auto",padding:"30px",backgroundColor:"rgba(255, 255, 255, 0.9)",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"10px",fontFamily:"'Roboto', sans-serif",boxShadow:"0px 8px 16px rgba(0, 0, 0, 0.15)",position:"relative"},ps={fontSize:"1.2rem",color:"#333",textAlign:"center",marginBottom:"10px",fontWeight:"bold"},BS={display:"flex",flexDirection:"column",gap:"1.2rem"},et={width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"5px",border:"1px solid #ccc",boxSizing:"border-box"},$S={padding:"15px",fontSize:"1rem",fontWeight:"bold",color:"white",backgroundColor:"#3CB371",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px"},bS={maxWidth:"200px",width:"100%",borderRadius:"8px 8px 0 0"},rv={fontSize:"0.9rem",color:"#555",marginBottom:"20px"},HS={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},QS={backgroundColor:"white",borderRadius:"8px",padding:"20px",maxWidth:"500px",width:"90%",textAlign:"center",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"},GS={marginTop:"20px",padding:"10px 20px",background:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},WS=({logins:t,onClose:e})=>O.jsx("div",{style:HS,children:O.jsxs("div",{style:QS,children:[O.jsx("h2",{children:"Logins Gerados"}),t.map((n,r)=>O.jsxs("div",{children:[O.jsxs("p",{children:[n.type,": ",O.jsx("strong",{children:n.login})]}),O.jsxs("p",{children:["Senha ",n.type,": ",n.password]}),O.jsx("br",{})]},r)),O.jsx("strong",{children:O.jsx("div",{style:rv,children:"Esse login será válido em até 5 dias!"})}),O.jsx("button",{onClick:e,style:GS,children:"Fechar"})]})}),qS=()=>{const[t,e]=Lt.useState({nomeCompleto:"",dataNascimento:"",CPF:"",telefone:"",unidade:"",id:"",funcao:"",conselho:"",numeroConselho:"",tipoFuncao:"",especialidade:"",endereco:"",bairro:"",numero:"",cep:"",setor:"",dataPreenchimento:new Date().toLocaleDateString("pt-BR"),dataAdmissao:""}),[n,r]=Lt.useState(!1),[,i]=Lt.useState(!1),[o,l]=Lt.useState(!1),[u,c]=Lt.useState([]),[f,m]=Lt.useState(!1),[g,T]=Lt.useState(!1),R=v=>{const{name:S,value:N}=v.target;let U=N;if(S==="CPF"?U=OS(N):S==="telefone"?U=LS(N):S==="dataNascimento"&&(U=MS(N)),e(F=>({...F,[S]:U})),S==="funcao"){r(!0),l(N==="Estagiário(a)");let F="";N==="Médico"?(F="CRM",i(!0)):i(!1),N==="Psicólogo"?F="CRP":N==="Farmacêutico"?F="CRF":N==="Enfermeiro"||N==="Tec. Enfermagem"?F="COREN":N==="Terapia Ocupacional"?F="CREFITO":N==="Ed. Física"?F="CREF":N==="Serviço Social"?F="CRESS":N==="Nutricionista"&&(F="CFN"),e(_=>({..._,conselho:F,numeroConselho:""})),i(F!=="")}},x=v=>{const S=v.target.value;e(N=>({...N,tipoFuncao:S}))},V=()=>{const{CPF:v,telefone:S,nomeCompleto:N,unidade:U,funcao:F}=t;return!(!N||!U||!F||!v||!S||!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(v)||!/^\(\d{2}\) \d{5}-\d{4}$/.test(S))},z=async v=>{if(v.preventDefault(),!V()){alert("Por favor, preencha todos os campos corretamente.");return}T(!0);try{const S={...t};await VS(S),await DS(S).catch(console.error);const N=jS(t.nomeCompleto,t.funcao);c(N),alert("Formulário enviado com sucesso!"),m(!0),e({nomeCompleto:"",dataNascimento:"",CPF:"",telefone:"",unidade:"",id:"",funcao:"",conselho:"",numeroConselho:"",tipoFuncao:"",especialidade:"",endereco:"",bairro:"",numero:"",cep:"",setor:"",dataPreenchimento:new Date().toLocaleDateString("pt-BR"),dataAdmissao:""}),r(!1),i(!1),l(!1)}catch(S){console.error("Erro ao enviar o formulário:",S),alert("Erro ao enviar o formulário.")}finally{T(!1)}},I=()=>{m(!1),c([])};return O.jsx("div",{style:US,children:O.jsxs("div",{style:zS,children:[O.jsx("img",{src:"https://bomviverssa.com.br/wp-content/themes/tema-bem-viver/assets/imagens/marca_bom_viver_tagline.png",alt:"Imagem do formulário",style:bS}),O.jsx("div",{style:ps,children:"Cadastro de Profissional"}),O.jsx("div",{style:rv,children:"Olá, aqui você irá realizar o preenchimento de dados para criação de logins da unidade."}),O.jsxs("form",{onSubmit:z,style:BS,children:[O.jsx("div",{children:O.jsxs("select",{id:"unidade",name:"unidade",value:t.unidade,onChange:R,required:!0,style:et,children:[O.jsx("option",{value:"",children:"Selecione a unidade"}),O.jsx("option",{value:"BV-Consultas",children:"BV-Consultas"}),O.jsx("option",{value:"BV-Hospital",children:"BV-Hospital"})]})}),O.jsxs("div",{children:[O.jsx("div",{style:ps,children:"Data Admissão"}),O.jsx("input",{type:"date",id:"dataAdmissao",name:"dataAdmissao",value:t.dataAdmissao,onChange:R,placeholder:"Data de Admissão",required:!0,style:et})]}),O.jsx("div",{style:ps,children:"Dados Pessoais"}),O.jsx("div",{children:O.jsx("input",{type:"text",id:"nomeCompleto",name:"nomeCompleto",value:t.nomeCompleto,onChange:R,placeholder:"Nome Completo",required:!0,style:et})}),O.jsx("div",{children:O.jsx("input",{type:"text",id:"CPF",name:"CPF",value:t.CPF,onChange:R,placeholder:"CPF",required:!0,style:et})}),O.jsx("div",{children:O.jsx("input",{type:"text",id:"telefone",name:"telefone",value:t.telefone,onChange:R,placeholder:"Telefone",required:!0,style:et})}),O.jsx("div",{children:O.jsx("input",{type:"text",id:"dataNascimento",name:"dataNascimento",value:t.dataNascimento,onChange:R,placeholder:"Data de Nascimento",required:!0,style:et})}),O.jsx("div",{style:ps,children:"Dados da Função"}),O.jsx("div",{children:O.jsxs("select",{id:"funcao",name:"funcao",value:t.funcao,onChange:R,required:!0,style:et,children:[O.jsx("option",{value:"",children:"Selecione sua função"}),O.jsx("option",{value:"Almoxarifado",children:"Almoxarifado"}),O.jsx("option",{value:"Apoio-Tecnico",children:"Apoio-Técnico"}),O.jsx("option",{value:"Call-Center",children:"Call-Center"}),O.jsx("option",{value:"Ed. Física",children:"Educador Físico"}),O.jsx("option",{value:"Estagiário(a)",children:"Estagiário(a)"}),O.jsx("option",{value:"Enfermeiro",children:"Enfermeiro(a)"}),O.jsx("option",{value:"Farmacêutico",children:"Farmacêutico(a)"}),O.jsx("option",{value:"Médico",children:"Médico"}),O.jsx("option",{value:"Nutricionista",children:"Nutricionista"}),O.jsx("option",{value:"Psicólogo",children:"Psicólogo(a)"}),O.jsx("option",{value:"Recepção-BV",children:"Recepcionista (Itaigara)"}),O.jsx("option",{value:"Recepção-IT",children:"Recepcionista (Hospital)"}),O.jsx("option",{value:"Serviço Social",children:"Serviço Social"}),O.jsx("option",{value:"Tec. Enfermagem",children:"Tec. Enfermagem"}),O.jsx("option",{value:"Terapia Ocupacional",children:"Terapia Ocupacional"})]})}),o&&O.jsx("div",{children:O.jsxs("select",{id:"setor",name:"setor",value:t.setor,onChange:R,required:!0,style:et,children:[O.jsx("option",{value:"",children:"Selecione o setor que irá estagiar"}),O.jsx("option",{value:"Almoxarifado",children:"Almoxarifado"}),O.jsx("option",{value:"Apoio-Técnico",children:"Apoio-Técnico"}),O.jsx("option",{value:"Call-Center",children:"Call-Center"}),O.jsx("option",{value:"CCIH",children:"CCIH"}),O.jsx("option",{value:"CME",children:"CME"}),O.jsx("option",{value:"Enfermagem",children:"Enfermagem"}),O.jsx("option",{value:"Compras",children:"Compras"}),O.jsx("option",{value:"Conveniência",children:"Conveniência"}),O.jsx("option",{value:"Contabilidade",children:"Contabilidade"}),O.jsx("option",{value:"Estoque",children:"Estoque"}),O.jsx("option",{value:"Farmácia",children:"Farmácia"}),O.jsx("option",{value:"Faturamento",children:"Faturamento"}),O.jsx("option",{value:"Financeiro",children:"Financeiro"}),O.jsx("option",{value:"Nutrição",children:"Nutrição"}),O.jsx("option",{value:"Psicologia",children:"Psicologia"}),O.jsx("option",{value:"Reccepção",children:"Reccepção"}),O.jsx("option",{value:"Recursos Humanos",children:"Recursos Humanos"}),O.jsx("option",{value:"Segurança do Trabalho",children:"Segurança do Trabalho"}),O.jsx("option",{value:"Serviço Social",children:"Serviço Social"}),O.jsx("option",{value:"Tecnologia da Informação",children:"Tecnologia da Informação"})]})}),O.jsxs("div",{children:[t.funcao==="Médico"&&O.jsx("div",{children:O.jsxs("select",{name:"tipoFuncao",value:t.tipoFuncao,onChange:x,required:!0,style:et,children:[O.jsx("option",{value:"",children:"Selecione o tipo da função"}),O.jsx("option",{value:"Plantão",children:"Plantonista"}),O.jsx("option",{value:"Ambulatório",children:"Assistente"})]})}),O.jsx("br",{}),t.conselho&&O.jsx("div",{children:O.jsx("input",{type:"text",id:"numeroConselho",name:"numeroConselho",value:t.numeroConselho,onChange:R,required:!0,style:et,placeholder:`Digite seu número de conselho ${t.conselho}`})})]}),n&&O.jsxs("div",{children:[O.jsx("div",{children:O.jsx("input",{type:"text",id:"endereco",name:"endereco",value:t.endereco,onChange:R,required:!0,style:et,placeholder:"Informe seu endereço"})}),O.jsxs("div",{children:[O.jsx("br",{}),O.jsx("input",{type:"text",id:"bairro",name:"bairro",value:t.bairro,onChange:R,required:!0,style:et,placeholder:"Informe seu bairro"})]}),O.jsxs("div",{children:[O.jsx("br",{}),O.jsx("input",{type:"text",id:"numero",name:"numero",value:t.numero,onChange:R,required:!0,style:et,placeholder:"Número da casa"})]}),O.jsxs("div",{children:[O.jsx("br",{}),O.jsx("input",{type:"text",id:"cep",name:"cep",value:t.cep,onChange:R,required:!0,style:et,placeholder:"Informe seu CEP"})]})]}),O.jsx("button",{type:"submit",style:$S,disabled:!V()||g,children:"Enviar"})]}),f&&O.jsx(WS,{logins:u,onClose:I})]})})},KS=()=>O.jsx("div",{children:O.jsx(qS,{})});Mg(document.getElementById("root")).render(O.jsx(Lt.StrictMode,{children:O.jsx(KS,{})}));
